(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{101:function(e,t,a){e.exports={mainBox:"LogInBox_mainBox__3QwqR",googleLogIn:"LogInBox_googleLogIn__13EnC",inputBox:"LogInBox_inputBox__1CDrf",forgotPassword:"LogInBox_forgotPassword__YLHPZ",signUp:"LogInBox_signUp__2ro8l"}},107:function(e,t,a){e.exports={mainBox:"ManualSignUp_mainBox__3aw5s",qnBox:"ManualSignUp_qnBox__5LgoX",replyButtons:"ManualSignUp_replyButtons__3Fd2u"}},137:function(e,t,a){e.exports={editString:"helperComponents_editString__2WSHd"}},141:function(e,t,a){e.exports={pageContentWrapper:"StoreBox_pageContentWrapper__3GeIJ",sideBar:"StoreBox_sideBar__1FC_i"}},147:function(e,t,a){e.exports={row:"ProductView_row__SSdQ1",itemName:"ProductView_itemName__3lAdd",noFocusButton:"ProductView_noFocusButton__A1VIb"}},149:function(e,t,a){e.exports={mainBox:"ResetPassword_mainBox__PZlJ6",inputBox:"ResetPassword_inputBox__3uwNH",signUp:"ResetPassword_signUp__hyzn7"}},159:function(e,t,a){e.exports={test:"SearchBox_test__13uY5",form:"SearchBox_form__pBO3R",submitButton:"SearchBox_submitButton__1GsCK"}},164:function(e,t,a){e.exports={box:"SearchResults_box__2ZLgk",card:"SearchResults_card__2ZIWu",cardImg:"SearchResults_cardImg__1a5VU",cardBody:"SearchResults_cardBody__3fFok",cardFooter:"SearchResults_cardFooter__3nzJ7",itemDescTruncate:"SearchResults_itemDescTruncate__1C5MR",max2Lines:"SearchResults_max2Lines__zQNOs",max3Lines:"SearchResults_max3Lines__3ulnl"}},172:function(e,t,a){e.exports={mainBox:"SellerForm_mainBox__lIfbs"}},173:function(e,t,a){e.exports={callToOrderCard:"UserOrders_callToOrderCard__3s-Aj"}},19:function(e,t,a){e.exports={contentBox:"pages_contentBox__EL_l4",formBox:"pages_formBox__2Xe9p",loginLink:"pages_loginLink__2CE2A",toggleButton:"pages_toggleButton__1sprk",qnBox:"pages_qnBox__C7tO1",replyButtons:"pages_replyButtons__3UjIa",ourStory:"pages_ourStory__VhTM9",contact:"pages_contact__3Gm6S",questionBox:"pages_questionBox__1gryo",questionItem:"pages_questionItem__2IxAv",howSection:"pages_howSection__9XKHh",howSectionImg:"pages_howSectionImg__tlbO7"}},207:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(24),s=a.n(n),o=a(174),i=a(167),l=a(57),d=a.n(l),j=a(2);function u(){return Object(j.jsx)(o.a.Brand,{href:"/",className:d.a.title,children:"BakeSwitch"})}var b=a(263);function O(){return Object(j.jsx)("div",{className:d.a.tab,children:Object(j.jsxs)(b.a,{title:"About Us",children:[Object(j.jsx)(b.a.Item,{href:"/about#our-story",children:"Our Story"}),Object(j.jsx)(b.a.Item,{href:"/about#faq",children:"FAQ"}),Object(j.jsx)(b.a.Item,{href:"/about#contact",children:"Contact"})]})})}function h(e){return Object(j.jsx)("div",{className:d.a.tab,children:Object(j.jsx)(i.a.Link,{href:e.hrefVal,children:e.tabName})})}var x=a(16),m=a.n(x),f=a(21),p=a(4),v=a(264),g=a(77),y=a(15),k=(a(194),a(195),y.a.initializeApp({apiKey:"AIzaSyAmfOVXbw4RhLxy35WQeYUaTblvy_BDOHU",authDomain:"bakeswitch-orbital.firebaseapp.com",projectId:"bakeswitch-orbital",storageBucket:"bakeswitch-orbital.appspot.com",messagingSenderId:"1097478969661",appId:"1:1097478969661:web:1ae4ddb4911a2de150cd54",measurementId:"G-SJY0D853EQ"}),y.a.auth()),N=new y.a.auth.GoogleAuthProvider,S=y.a.auth.EmailAuthProvider,_=y.a.firestore();k.setPersistence(y.a.auth.Auth.Persistence.LOCAL);var w=c.a.createContext();function C(){return Object(r.useContext)(w)}function B(e){var t=e.children,a=Object(r.useState)(),c=Object(p.a)(a,2),n=c[0],s=c[1],o=Object(r.useState)(),i=Object(p.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(!0),b=Object(p.a)(u,2),O=b[0],h=b[1];Object(r.useEffect)((function(){return k.onAuthStateChanged((function(e){s(e),e?_.collection("users").doc(e.uid).get().then((function(e){return d(e.data())})).then((function(){return h(!1)})):h(!1)}))}),[]);var x={currentUser:n,signUp:function(e,t){return k.createUserWithEmailAndPassword(e,t)},googleLogIn:function(){return k.signInWithPopup(N)},passwordLogIn:function(e,t){return k.signInWithEmailAndPassword(e,t)},resetPassword:function(e){return k.sendPasswordResetEmail(e)},logOut:function(){return k.signOut()},userDoc:l};return Object(j.jsx)(w.Provider,{value:x,children:!O&&t})}var D=a(29);function I(){var e=C().logOut,t=Object(D.g)(),a=Object(r.useState)(!1),c=Object(p.a)(a,2),n=c[0],s=c[1];function o(){return(o=Object(f.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e();case 3:t.push("/"),alert("You are logged out."),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),alert("Log-out failed. "+a.t0.message);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:d.a.tab,children:[Object(j.jsx)(i.a.Link,{onClick:function(){return s(!0)},children:"Log Out"}),Object(j.jsx)(v.a,{show:n,onHide:function(){return s(!1)},children:Object(j.jsx)(v.a.Body,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{children:"Confirm log out?"}),Object(j.jsx)(g.a,{variant:"outline-primary",size:"sm",onClick:function(){return o.apply(this,arguments)},className:d.a.delConfButton,children:"Yes"}),Object(j.jsx)(g.a,{variant:"outline-danger",size:"sm",onClick:function(){return s(!1)},className:d.a.delConfButton,children:"No"})]})})})]})}var P=function(){var e=C(),t=e.currentUser,a=e.userDoc,r=null===t||void 0===t?void 0:t.emailVerified,c=!!t&&(null===a||void 0===a?void 0:a.isSeller);return Object(j.jsxs)(o.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",sticky:"top",children:[Object(j.jsx)(u,{}),Object(j.jsx)(o.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(j.jsx)(o.a.Collapse,{children:Object(j.jsxs)(i.a,{className:"ms-auto",children:[Object(j.jsx)(O,{}),Object(j.jsx)(h,{hrefVal:"/bakers",tabName:"Bakers"}),Object(j.jsx)(h,{hrefVal:"/bakes",tabName:"Bakes"}),!r&&Object(j.jsx)(h,{hrefVal:"/log-in",tabName:"Login"}),r&&Object(j.jsx)(h,{hrefVal:"/order-cart",tabName:"My Orders"}),c&&Object(j.jsx)(h,{hrefVal:"/store/orders",tabName:"My Store"}),r&&Object(j.jsx)(h,{hrefVal:"/profile-settings",tabName:"My Profile"}),r&&Object(j.jsx)(I,{})]})})]})},L=a(84),R=a(175),T=["component"];function A(e){var t=e.component,a=Object(R.a)(e,T),r=C().currentUser;return Object(j.jsx)(D.b,Object(L.a)(Object(L.a)({},a),{},{render:function(e){return r?Object(j.jsx)(t,Object(L.a)({},e)):Object(j.jsx)(D.a,{to:"/log-in"})}}))}var E=a(246),U=a(247),F=a(168),q=a(248),G=a(19),z=a.n(G);function H(){var e=Object(D.g)(),t=C(),a=t.currentUser,r=t.userDoc;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:z.a.howSection,children:[Object(j.jsx)("h2",{className:"mb-5",children:"How to BakeSwitch?"}),Object(j.jsx)(E.a,{children:Object(j.jsxs)(U.a,{children:[Object(j.jsx)(F.a,{xs:12,md:4,children:Object(j.jsxs)("div",{onClick:function(){return e.push("/bakers")},children:[Object(j.jsx)(q.a,{src:"https://cdn.pixabay.com/photo/2019/05/06/12/59/bread-4183076_1280.jpg",roundedCircle:!0,className:z.a.howSectionImg}),Object(j.jsx)("h3",{children:"Browse Bakers"}),Object(j.jsx)("p",{children:"Find your next favourite local homebaker"})]})}),Object(j.jsx)(F.a,{xs:12,md:4,children:Object(j.jsxs)("div",{onClick:function(){return e.push("/bakes")},children:[Object(j.jsx)(q.a,{src:"https://cdn.pixabay.com/photo/2020/05/05/13/27/pie-5133105_1280.jpg",roundedCircle:!0,className:z.a.howSectionImg}),Object(j.jsx)("h3",{children:"Browse Bakes"}),Object(j.jsx)("p",{children:"Order an assortment of delectable bakes"})]})}),Object(j.jsx)(F.a,{xs:12,md:4,children:Object(j.jsxs)("div",{onClick:function(){var t=null===a||void 0===a?void 0:a.emailVerified,c=!!a&&(null===r||void 0===r?void 0:r.isSeller);t&&c?e.push("/store/orders"):t?e.push("/sign-up-seller"):e.push("/log-in")},children:[Object(j.jsx)(q.a,{src:"https://cdn.pixabay.com/photo/2017/08/06/05/48/bake-2589210_1280.jpg",roundedCircle:!0,className:z.a.howSectionImg}),Object(j.jsx)("h3",{children:"Sell Bakes"}),Object(j.jsx)("p",{children:"Share your delicious treats with customers"})]})})]})})]})})}var M=a(268),Q=a(252),V=a(253),W=a(251),Y=a(169),K=a.n(Y),$=[{qn:"How do I add local pictures to my Listed Products?",ans:Object(j.jsxs)("p",{children:["As our websites only support photo URL, you may upload all the bake pictures to ",Object(j.jsx)("a",{href:"https://postimages.org",children:"PostImages"}),",",Object(j.jsx)("br",{}),"It is a really great and easy site to have a online gallery of all your pictures!",Object(j.jsx)("br",{}),"From there, simply click the share icon and copy the direct link over to our site :)"]})}];function J(e){return Object(j.jsxs)(M.a,{className:z.a.questionItem,children:[Object(j.jsx)(Q.a,{expandIcon:Object(j.jsx)(K.a,{}),id:e.id,children:Object(j.jsx)("h6",{children:e.question})}),Object(j.jsx)(V.a,{children:e.answer})]})}function Z(){return Object(j.jsxs)("div",{className:z.a.contentBox,children:[Object(j.jsxs)(W.a,{className:z.a.ourStory,elevation:2,children:[Object(j.jsx)("h3",{id:"our-story",className:"mt-5 mb-4",children:"Our Story"}),Object(j.jsx)("p",{style:{textAlign:"left"},children:"We aim to make it effortless for home bakers in Singapore to set up their baking business online by providing an interactive web-based platform as the bakers central store. This platform is designed to be used hand in hand with social media platforms to leverage on their effectiveness (chat, sharing & outreach capabilities). Being a centralized store, customers will be able to view a wide variety of baked goods from different home bakers, and contact them directly for order via their preferred method of contact."}),Object(j.jsx)("p",{style:{textAlign:"left"},children:"Bakeswitch is an online marketplace web app that will have features beneficial to both buyer and seller users. Buyers are able to browse product listings from sellers and sellers are able to list products and bake sales, and manage orders from buyers."})]}),Object(j.jsxs)("div",{className:"mb-5",children:[Object(j.jsx)("h3",{id:"faq",className:"mt-5 mb-4",children:"FAQ"}),Object(j.jsx)("div",{className:z.a.questionBox,children:$.map((function(e,t){return Object(j.jsx)(J,{question:e.qn,answer:e.ans,id:t},t)}))})]}),Object(j.jsxs)(W.a,{className:z.a.contact,elevation:4,children:[Object(j.jsx)("h3",{id:"contact",className:"mt-2 mb-2",children:"Contact"}),Object(j.jsxs)("p",{className:"mb-2",children:["For enquiries and feedback, contact us at ",Object(j.jsx)("em",{children:"bakeswitch@gmail.com"})]})]})]})}var X=a(266),ee=a(254),te=a(270),ae=a(74),re=a.n(ae);function ce(e){var t=Object(r.useState)(),a=Object(p.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(!0),o=Object(p.a)(s,2),i=o[0],l=o[1],d=Object(D.g)();return Object(r.useEffect)((function(){return _.collection("stores").doc(e.storeID).get().then((function(e){return n(e.data())})).then((function(){return l(!1)}))}),[]),!i&&Object(j.jsxs)("div",{className:re.a.bakerBox,children:[Object(j.jsx)(q.a,{src:null===c||void 0===c?void 0:c.storeLogo,alt:"Store picture",roundedCircle:!0,className:re.a.storeImg}),Object(j.jsxs)(te.a,{className:re.a.bakerCard,children:[Object(j.jsx)(g.a,{variant:"light",onClick:function(){d.push("/bakerProfile/".concat(e.storeID))},children:Object(j.jsx)(te.a.Header,{className:re.a.buttonHeader,as:"h5",children:c.storeName})}),Object(j.jsx)(te.a.Body,{className:re.a.bakerDesc,children:Object(j.jsx)(te.a.Text,{children:c.storeDesc})})]})]})}var ne=function(){var e=Object(r.useState)(!0),t=Object(p.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(!0),s=Object(p.a)(n,2),o=s[0],i=s[1],l=Object(r.useState)([]),d=Object(p.a)(l,2),u=d[0],b=d[1],O=Object(r.useState)(""),h=Object(p.a)(O,2),x=h[0],m=h[1],f=Object(r.useState)(""),v=Object(p.a)(f,2),y=v[0],k=v[1],N=Object(r.useState)([]),S=Object(p.a)(N,2),w=S[0],C=S[1];return Object(r.useEffect)((function(){return _.collection("stores").where("storeName","!=",!1).get().then((function(e){return e.forEach((function(e){return u.push(e.id)}))})).then((function(){return b(u)})).then((function(){return c(!1)})),function(){b([])}}),[]),!a&&Object(j.jsxs)("div",{children:[Object(j.jsxs)(X.a.Group,{as:F.a,md:"6",className:re.a.searchBar,children:[Object(j.jsx)(X.a.Label,{className:"d-flex align-items-left",children:"search bakers"}),Object(j.jsxs)(ee.a,{children:[Object(j.jsx)(X.a.Control,{type:"text",onChange:function(e){m(e.target.value),i(!0),C([])},placeholder:"enter store name"}),Object(j.jsx)(g.a,{onClick:function(){if(""==x)i(!0);else{if(!o&&y===x)return;_.collection("stores").where("storeName",">=",x).where("storeName","<=",x+"\uf8ff").get().then((function(e){return e.forEach((function(e){return w.push(e.id)}))})).then((function(){return C(w)})).then((function(){return k(x)})).then((function(){return i(!1)}))}},children:"Search"})]}),Object(j.jsx)(X.a.Text,{className:"d-flex",children:"search is case-sensitive"})]}),o&&u.map((function(e){return Object(j.jsx)(ce,{storeID:e},e)})),!o&&w.map((function(e){return Object(j.jsx)(ce,{storeID:e},e+"_searched")}))]})};function se(){return Object(j.jsx)("div",{className:z.a.contentBox,children:Object(j.jsx)(ne,{})})}var oe=a(147),ie=a.n(oe),le=a(257),de=a(258),je=a(170),ue=a(271),be=a(256),Oe=a(255),he=a(50),xe=a.n(he);function me(e){var t=e.bakeData,a=e.orderedPnQArr;if(t&&a){var r=t.bakeDesc,c=void 0===r?"default_bake_desc":r,n=t.bakeTags,s=void 0===n?["no tags attached"]:n;return Object(j.jsx)(E.a,{className:xe.a.productDetailBox,children:Object(j.jsxs)("dl",{className:"row sm mb-3 mt-3",children:[Object(j.jsx)("dt",{className:"col-sm-3",children:"Description"}),Object(j.jsx)("dd",{className:"col-sm-9",children:c}),Object(j.jsx)("dt",{className:"col-sm-3",children:"Tags"}),Object(j.jsx)("dd",{className:"col-sm-9",children:s.toString()}),Object(j.jsx)("dd",{className:"col-sm-9 mt-4",children:Object(j.jsx)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(j.jsxs)("thead",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Per unit Price"}),Object(j.jsx)("th",{children:"Group"})]}),a.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:["S$",e[0]]}),Object(j.jsx)("td",{children:e[1]})]},t)}))]})})})]})})}}function fe(){return Object(j.jsx)(E.a,{className:xe.a.cardDetailsBox,children:Object(j.jsx)("h5",{children:"Product reviews in construction"})})}function pe(e){if(e.bakeData){var t=Object(r.useState)(["hazelnut","oat","milk"]),a=Object(p.a)(t,2),c=a[0];a[1];return Object(j.jsx)(E.a,{className:xe.a.cardDetailsBox,children:Object(j.jsxs)("dl",{className:"row sm mb-3 mt-3",children:[Object(j.jsx)("dt",{className:"col-sm-3",children:"Allergens"}),Object(j.jsx)("dd",{className:"col-sm-9",children:c.toString()})]})})}}function ve(e){var t=e.storeData;if(!t)return Object(j.jsx)(E.a,{className:xe.a.productDetailBox,children:Object(j.jsx)("h3",{children:" Sorry, we are unable to load contacts] "})});var a=t.email,r=void 0===a?"nil":a,c=t.phoneNum,n=void 0===c?"nil":c,s=t.teleHandle,o=void 0===s?"nil":s,i=t.instaLink,l=void 0===i?"nil":i,d=t.websiteLink,u=void 0===d?"nil":d;return Object(j.jsx)(E.a,{className:xe.a.cardDetailsBox,children:Object(j.jsxs)("dl",{className:"row sm mb-3 mt-3",children:[r&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("dt",{className:"col-sm-3",children:"Email"}),Object(j.jsx)("dd",{className:"col-sm-9",children:r})]}),n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("dt",{className:"col-sm-3",children:"Number"}),Object(j.jsx)("dd",{className:"col-sm-9",children:n})]}),o&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("dt",{className:"col-sm-3",children:"Facebook"}),Object(j.jsx)("dd",{className:"col-sm-9",children:o})]}),l&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("dt",{className:"col-sm-3",children:"Instagram"}),Object(j.jsx)("dd",{className:"col-sm-9",children:l})]}),u&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("dt",{className:"col-sm-3",children:"Website"}),Object(j.jsx)("dd",{className:"col-sm-9",children:u})]})]})})}var ge=function(e){var t=e.bakeData,a=e.storeData,c=e.orderedPnQArr,n=Object(r.useState)("home"),s=Object(p.a)(n,2),o=s[0],i=s[1];return Object(j.jsxs)(ue.a,{id:"productTabs",activeKey:o,onSelect:function(e){return i(e)},className:"mb-3 ms-2 text-align-left",children:[Object(j.jsx)(be.a,{eventKey:"details",title:"details",children:Object(j.jsx)(me,{bakeData:t,orderedPnQArr:c})}),Object(j.jsx)(be.a,{eventKey:"reviews",title:"reviews",children:Object(j.jsx)(fe,{})}),Object(j.jsx)(be.a,{eventKey:"allergens",title:"allergens",children:Object(j.jsx)(pe,{bakeData:t})}),Object(j.jsx)(be.a,{eventKey:"contact",title:"contact",children:Object(j.jsx)(ve,{storeData:a})})]})},ye=a(148),ke=a(171),Ne=a(63);function Se(e){if(null!=e){var t=e.bakePriceAndQty;return Object.keys(t).sort((function(e,t){return e-t})).map((function(e){return[e,t[e]]}))}return alert("bakeData is empty, price and qty cannot be ordered")}function _e(e,t,a,r,c,n,s,o,i,l){var d={modeOfTransfer:s,bakeName:c,bakeSet:r,qty:a,unitPrice:n,remarks:o,bakePhotoURL:i,bakeID:l};e.set({storeName:t,orderObj:y.a.firestore.FieldValue.arrayUnion(d)},{merge:!0}).then((function(){alert('Order successfully added - view "My Orders" tab for all orders')})).catch((function(e){return alert("unable to set userOrder: "+e)}))}function we(e,t,a,r,c,n,s,o,i,l){var d={modeOfTransfer:s,bakeName:c,bakeSet:r,qty:a,unitPrice:n,remarks:o,bakePhotoURL:i,bakeID:l};e.set({storeName:t,orderObj:y.a.firestore.FieldValue.arrayRemove(d)},{merge:!0}).catch((function(e){return alert("unable to del userOrder: "+e)}))}function Ce(e){return Object(j.jsxs)(te.a,{children:[Object(j.jsx)(te.a.Title,{children:" Sorry, we are unable to find the data you are looking for "}),Object(j.jsxs)(te.a.Text,{children:[" Error: ",e," "]})]})}var Be=a(76);function De(e){var t=e.numOutOf5,a=Array.from(Array(t).keys()),r=Array.from(Array(5-t).keys());return[0,1,2,3,4,5].includes(t)?Object(j.jsxs)(j.Fragment,{children:[a.map((function(e,t){return Object(j.jsx)(Be.a,{className:"text-warning mr-1"},t)})),r.map((function(e,t){return Object(j.jsx)(Be.a,{className:"text-secondary mr-1"},t)}))]}):alert("num not btw 0 and 5")}function Ie(e){var t=e.numOfRatings,a=e.numOfStars,r=0!=t?Math.floor(a/t):0;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(De,{numOutOf5:r}),Object(j.jsxs)("span",{className:"text-muted small ms-2",children:[t," ratings"]})]})}var Pe=function(e){var t=e.bakeID,a=_.collection("bakes").doc(t),c=Object(r.useState)(!1),n=Object(p.a)(c,2),s=n[0],o=n[1],i=Object(r.useState)(),l=Object(p.a)(i,2),d=l[0],u=l[1],b=Object(r.useState)(),O=Object(p.a)(b,2),h=O[0],x=O[1],m=Object(r.useState)(0),f=Object(p.a)(m,2),v=f[0],y=f[1],k=Object(r.useState)("1"),N=Object(p.a)(k,2),S=N[0],w=N[1],B=Object(r.useState)(!1),D=Object(p.a)(B,2),I=D[0],P=D[1],L=Object(r.useState)(1),R=Object(p.a)(L,2),T=R[0],A=R[1],E=C().currentUser,q=E?E.uid:"";function G(){a.onSnapshot((function(e){o(!0),e&&e.exists?function(e){var t=e.storeID;_.collection("stores").doc(t).get().then((function(e){o(!0),e&&e.exists?x(e.data()):alert("storeID invalid? unable to load doc")})).catch((function(e){return alert("unable to set store data"+e)})).finally((function(){return o(!1)}))}(e.data()):alert("snapshot doesnt exist for realtime update"),o(!1)}))}if(Object(r.useEffect)((function(){a.get().then((function(e){if(o(!0),!e||!e.exists)return alert("bakeID invalid? unable to load doc");u(e.data())})).catch((function(e){return alert("unable to set bake data, err :"+e)})).finally((function(){return o(!1)})),G()}),[]),!d||!h)return Ce("no bake data or store data loaded yet");var z=d.bakePhotoURL,H=void 0===z?"default_bake_photo_url":z,M=d.bakeName,Q=void 0===M?"default_bake_name":M,V=d.isAvailable,W=void 0===V?"default_is_available":V,Y=d.storeName,K=void 0===Y?"default_store_name":Y,$=d.numOfRatings,J=void 0===$?0:$,Z=d.numOfStars,X=void 0===Z?0:Z,ae=h.deliveryBool,re=void 0===ae||ae,ce=h.selfCollectionBool,ne=void 0===ce||ce,se=Se(d),oe="1"===S?"collection":"delivery";return!s&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(U.a,{className:ie.a.row,children:[Object(j.jsx)(F.a,{xs:12,md:6,className:"p-4",children:Object(j.jsx)(te.a,{border:"light",children:Object(j.jsx)(te.a.Img,{src:H,rounded:"true",fluid:"true"})})}),Object(j.jsxs)(F.a,{xs:12,md:6,className:"p-4",children:[Object(j.jsxs)("h3",{className:"mb-0",children:[Q,!W&&Object(j.jsx)("span",{className:"badge pill bg-danger ms-3",children:"Not available"})]}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)(Ie,{numOfRatings:J,numOfStars:X})}),Object(j.jsxs)("dl",{className:"row sm mb-3",children:[Object(j.jsx)("dt",{className:"col-sm-4",children:"Sold by"}),Object(j.jsx)("dd",{className:"col-sm-8 p-0",children:K}),Object(j.jsx)("dt",{className:"col-sm-4",children:"Obtain by"}),Object(j.jsx)("dd",{className:"col-sm-8 p-0",children:Object(j.jsxs)(le.a,{className:"mb-2",children:[Object(j.jsx)(de.a,{className:"p-0 me-4",id:"radio-collection",type:"radio",variant:"white",name:"radio",value:"1",checked:"1"===S,onChange:function(e){return w(e.currentTarget.value)},disabled:!ne,children:"Self-Collection"},"collection"),Object(j.jsx)(de.a,{className:"p-0 me-4",id:"radio-delivery",type:"radio",variant:"white",name:"radio",value:"2",checked:"2"===S,onChange:function(e){return w(e.currentTarget.value)},disabled:!re,children:"Delivery"},"delivery")]})}),Object(j.jsx)("label",{htmlFor:"qty-select",children:"Choose set:"}),Object(j.jsx)("select",{onChange:function(e){return y(e.target.value)},id:"qty-select",className:"ms-2",style:{maxWidth:"24rem"},children:se.map((function(e,t){return Object(j.jsx)("option",{value:t,readOnly:!0,children:e[1]},t)}))})]}),Object(j.jsxs)("h3",{className:"font-weight-bold me-2 mt-3",children:["$",se[v][0]]}),Object(j.jsxs)(U.a,{children:[Object(j.jsx)(F.a,{sm:6,variant:"dark",children:Object(j.jsxs)(ee.a,{children:[Object(j.jsx)(ye.b,{size:40,onClick:function(){return T-1<=0?alert("Unable to order 0 or fewer number of items"):A((function(e){return e-1}))}}),Object(j.jsx)(je.a,{value:T,className:"d-inline bg-light",readOnly:!0}),Object(j.jsx)(ye.c,{size:40,onClick:function(){return T+1>100?alert("For orders of more than 100 items, kindly contact the seller directly"):A((function(e){return e+1}))}})]})}),Object(j.jsx)(F.a,{sm:12,children:Object(j.jsxs)(le.a,{children:[Object(j.jsxs)(g.a,{className:ie.a.noFocusButton,variant:W?"success":"danger",title:"Add to cart",onClick:function(){return function(e){if(!function(e){return""!=e}(e))return alert("Please log in to add to My Orders");if(W||confirm("Are you sure you want to add order? Item is currently not available")){var a=d.storeID,r=se[v][1],c=se[v][0],n=prompt("Enter any remarks for your order (please include dates for delivery/collection, location, and other specifications");return _e(_.collection("users").doc(e).collection("user-orders").doc(a),K,T,r,Q,c,oe,n,H,t)}}(q)},children:[Object(j.jsx)(ke.a,{})," Add to My Orders"]}),Object(j.jsx)(g.a,{className:ie.a.noFocusButton,variant:"outline-secondary",title:"Add to wishlist",onClick:function(){return P((function(e){return!e}))},hidden:!0,children:Object(j.jsx)(ye.a,{color:I?"red":"black"})})]})})]})]})]}),Object(j.jsx)(ge,{bakeData:d,storeData:h,orderedPnQArr:se})]})};function Le(e){return Object(j.jsx)("div",{className:z.a.contentBox,children:Object(j.jsx)(Pe,{bakeID:e.bakeID})})}var Re=a(159),Te=a.n(Re),Ae=["assortment","banana","berry","bread","brownie","cake","citrus","coffee","cheese","cookie","chocolate","cupcake","cake","hazelnut","pastry","strawberry","tart"];var Ee=function(e){var t=Object(r.useState)(""),a=Object(p.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(""),o=Object(p.a)(s,2),i=o[0],l=o[1],d=e.setSearchTag,u=e.setSearchStoreID,b=e.setIsDefault,O=e.globalStoreIDAndNameArr;return Object(j.jsx)(X.a,{className:Te.a.form,onSubmit:function(e){e.preventDefault(),d(c),u(i),b(!1)},children:Object(j.jsxs)(U.a,{className:"mb-4",children:[Object(j.jsxs)(X.a.Group,{as:F.a,controlId:"formBakeCategory",children:[Object(j.jsx)(X.a.Label,{className:"d-flex align-items-left",children:"bake category"}),Object(j.jsxs)(X.a.Control,{as:"select",placeholder:"Choose tag",onChange:function(e){return n(e.target.value)},children:[Object(j.jsx)("option",{value:"",children:"-all categories-"}),Ae.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))]})]}),Object(j.jsxs)(X.a.Group,{as:F.a,controlId:"formBaker",children:[Object(j.jsx)(X.a.Label,{className:"d-flex align-items-left",children:"baker"}),Object(j.jsxs)(X.a.Control,{as:"select",placeholder:"Choose store",onChange:function(e){return l(e.target.value)},children:[Object(j.jsx)("option",{value:"",children:"-all stores-"}),O.map((function(e,t){return Object(j.jsx)("option",{value:e.storeID,children:e.storeName},e.storeID)}))]})]}),Object(j.jsxs)(X.a.Group,{as:F.a,className:"d-grid",md:"2",children:[Object(j.jsx)(X.a.Label,{className:"d-flex align-items-left",style:{visibility:"hidden"},children:"notSeenText"}),Object(j.jsx)(g.a,{type:"submit",xs:"auto",style:{display:"block",width:"auto"},className:Te.a.submitButton,children:"Search"})]})]})})},Ue=(a(164),a(65)),Fe=a.n(Ue);var qe=function(e){var t=e.bakeID,a=void 0===t?"defaultBakeID":t,r=e.bakePhotoURL,c=void 0===r?"defaultURL":r,n=e.bakeName,s=void 0===n?"defaultBakeName":n,o=e.bakeDesc,i=void 0===o?"defaultBakeDescription":o,l=e.orderedPriceAndQtyArr,d=void 0===l?[["defaultPrice","defaultQty"]]:l,u=e.storeID,b=void 0===u?"defaultStoreID":u,O=e.storeName,h=void 0===O?"defaultStoreName":O,x=e.isAvailable,m=void 0===x?"defaultIsAvailable":x,f=Object(D.g)();function p(){f.push("/bake-product/".concat(a))}return Object(j.jsxs)(te.a,{className:Fe.a.card,children:[Object(j.jsx)(te.a.Img,{className:Fe.a.cardImg,variant:"top",src:c,onClick:p},"img_"+a),Object(j.jsxs)(te.a.Body,{className:Fe.a.cardBody,style:{backgroundColor:m?"":"rgba(255, 242, 242, 0.932)"},children:[Object(j.jsx)(te.a.Title,{className:Fe.a.max2Lines,onClick:p,children:s},"title_"+a),Object(j.jsx)(te.a.Text,{className:Fe.a.max3Lines,children:i},"desc_"+a),Object(j.jsxs)(te.a.Text,{className:Fe.a.cardFooter,children:[Object(j.jsxs)("span",{className:Fe.a.max1Line,children:["from S$",d[0][0]," onwards"]}),Object(j.jsxs)(te.a.Link,{className:Fe.a.max1Line,onClick:function(){f.push("/bakerProfile/".concat(b))},children:["by ",h]},"store_"+a)]},"footer_"+a)]},"body_"+a)]},"card_"+a)};function Ge(e){var t=e.bakeID,a=Object(r.useState)(),c=Object(p.a)(a,2),n=c[0],s=c[1],o=Object(r.useState)([["default_price","default_qty"]]),i=Object(p.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(!1),b=Object(p.a)(u,2),O=b[0],h=b[1];if(""==t)return"Don't load";var x=_.collection("bakes").doc(t);if(Object(r.useEffect)((function(){try{h(!0),x.get().then((function(e){e&&e.exists?s(e.data()):alert("snapshot doesnt exist")})).catch((function(e){return alert("setBakeObj error: "+e)})),x.onSnapshot((function(e){if(e&&e.exists){var t=Se(e.data());d(t)}else alert("snapshot doesnt exist for realtime update")}))}finally{h(!1)}}),[]),!n)return Ce("no bake data");var m=n.bakeName,f=void 0===m?"default_bake_name":m,v=n.storeID,g=void 0===v?"default_store_id":v,y=n.bakeDesc,k=void 0===y?"default_bake_desc":y,N=n.bakePhotoURL,S=void 0===N?"default_bake_photo":N,w=n.storeName,C=void 0===w?"default_store_name":w,B=n.isAvailable,D=void 0===B?"default_is_available":B;return!O&&Object(j.jsx)(qe,{bakeID:t,bakePhotoURL:S,bakeName:f,bakeDesc:k,orderedPriceAndQtyArr:l,storeID:g,storeName:C,isAvailable:D},"displayBakeCard_"+t)}var ze=function(e){var t=e.searchTag,a=e.searchStoreID,c=Object(r.useState)([]),n=Object(p.a)(c,2),s=n[0],o=n[1],i=Object(r.useState)(!0),l=Object(p.a)(i,2),d=l[0],u=l[1],b=_.collection("bakes");return Object(r.useEffect)((function(){return o([]),(""==t&&""==a?b:""==t&&""!=a?b.where("storeID","==",a):""!=t&&""==a?b.where("bakeTags","array-contains",t):b.where("bakeTags","array-contains",t).where("storeID","==",a)).get().then((function(e){e.forEach((function(e){o((function(t){return[].concat(Object(Ne.a)(t),[e.id])}))}))})).catch((function(e){alert("Search Error. "+e)})).finally((function(){u(!1)})),function(){o([])}}),[t,a]),Object(Ne.a)(new Set(s)),d?Object(j.jsx)(U.a,{xs:2,md:4,className:"mb-4 mt-4",children:"loading..."}):Object(j.jsx)(U.a,{xs:2,md:4,className:"mb-4 mt-4",children:s.map((function(e){return Object(j.jsx)(F.a,{children:Object(j.jsx)(Ge,{bakeID:e})},"col_"+e)}))})};function He(e,t){return[e,t]}function Me(e){var t=e.setIsDefault,a=e.setSearchTag,r=e.setSearchStoreID,c=(Object(D.g)(),[He("cake","https://cdn.pixabay.com/photo/2017/01/11/11/33/cake-1971552_1280.jpg"),He("cookie","https://cdn.pixabay.com/photo/2016/11/17/17/37/cookie-1832169_1280.jpg"),He("brownie","https://cdn.pixabay.com/photo/2014/11/28/08/03/brownie-548591__340.jpg"),He("cupcake","https://cdn.pixabay.com/photo/2015/03/26/09/39/cupcakes-690040__480.jpg"),He("tart","https://images.pexels.com/photos/1157835/pexels-photo-1157835.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"),He("bread","https://images.pexels.com/photos/2067621/pexels-photo-2067621.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500")]);return Object(j.jsx)(U.a,{xs:1,md:3,className:"mb-4 mt-4",children:c.map((function(e,c){return Object(j.jsx)(F.a,{children:Object(j.jsxs)(te.a,{onClick:function(){return c=e[0],t(!1),a(c),void r("");var c},className:"mb-4",children:[Object(j.jsx)(te.a.Img,{variant:"top",src:e[1],style:{height:"250px"}}),Object(j.jsx)(te.a.Body,{style:{backgroundColor:"rgba(233, 233, 233, 0.932)"},children:Object(j.jsx)(te.a.Title,{children:e[0]})})]})},c)}))})}function Qe(){var e=Object(r.useState)(!0),t=Object(p.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(""),s=Object(p.a)(n,2),o=s[0],i=s[1],l=Object(r.useState)(""),d=Object(p.a)(l,2),u=d[0],b=d[1],O=Object(r.useState)([]),h=Object(p.a)(O,2),x=(h[0],h[1],function(){var e=Object(r.useState)("idle"),t=Object(p.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)([]),s=Object(p.a)(n,2),o=s[0],i=s[1];return Object(r.useEffect)((function(){!function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c("fetching"),e.next=3,_.collection("stores").get();case 3:e.sent.forEach((function(e){i((function(t){return[].concat(Object(Ne.a)(t),[{storeID:e.id,storeName:e.data().storeName}])}))})),c("fetched");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),{status:a,storeIDAndNameArr:o}}()),v=x.status,g=x.storeIDAndNameArr;return"fetching"!=v&&Object(j.jsxs)("div",{className:z.a.contentBox,children:[Object(j.jsx)(Ee,{setSearchTag:i,setSearchStoreID:b,setIsDefault:c,globalStoreIDAndNameArr:g}),a?Object(j.jsx)(Me,{setIsDefault:c,setSearchTag:i,setSearchStoreID:b}):Object(j.jsx)(ze,{searchTag:o,searchStoreID:u})]})}var Ve=a(39),We=a.n(Ve),Ye=a(43),Ke=a(138),$e=a.n(Ke),Je=a(139),Ze=a.n(Je),Xe=a(208),et=a(137),tt=a.n(et);function at(e){var t=e.item,a=e.field,c=e.docRef,n=e.formText,s=Object(r.useState)(!1),o=Object(p.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)(!1),u=Object(p.a)(d,2),b=u[0],O=u[1],h=Object(r.useRef)();return Object(j.jsxs)("div",{children:[Object(j.jsx)(Xe.a,{"aria-label":"edit details",onClick:function(){return l(!i)},children:t?Object(j.jsx)($e.a,{}):Object(j.jsx)(Ze.a,{})}),i&&Object(j.jsx)(X.a,{onSubmit:function(e){e.preventDefault,O(!0),l(!1);try{c.update(Object(Ye.a)({},a,h.current.value)).then((function(){return alert("Successfully updated.")}))}catch(err){alert(""+err)}finally{O(!1)}},children:Object(j.jsxs)(X.a.Group,{className:tt.a.editString,children:[Object(j.jsxs)(ee.a,{children:[e.isTextArea?Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Type here",ref:h,as:"textarea",rows:5}):Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Type here",ref:h}),Object(j.jsx)(g.a,{disabled:b,type:"submit",children:"Update"})]}),Object(j.jsx)(X.a.Text,{children:n})]})})]})}function rt(e){var t=e.sellerDoc;return Object(j.jsxs)(te.a,{body:!0,className:We.a.tabBox,children:[t.storeDesc,e.isOwnStore&&Object(j.jsx)(at,{item:t.storeDesc,field:"storeDesc",docRef:e.storeRef,isTextArea:!0})]})}function ct(e){var t=e.start,a=e.end,c=e.docRef,n=Object(r.useState)(!1),s=Object(p.a)(n,2),o=s[0],i=s[1],l=Object(r.useState)(!1),d=Object(p.a)(l,2),u=d[0],b=d[1],O=Object(r.useRef)(),h=Object(r.useRef)();return Object(j.jsxs)("div",{children:[Object(j.jsx)(g.a,{variant:"outline-warning",onClick:function(){return i(!o)},disabled:u,size:"sm",children:"Edit dates"}),o&&Object(j.jsx)(X.a,{onSubmit:function(e){e.preventDefault,b(!0);try{var r;c.update((r={},Object(Ye.a)(r,t,O.current.value),Object(Ye.a)(r,a,h.current.value),r)).then((function(){return alert("Successfully updated.")}))}catch(err){alert(""+err)}finally{b(!1),i(!1)}},children:Object(j.jsxs)(X.a.Group,{className:tt.a.editString,children:[Object(j.jsxs)(ee.a,{className:"mb-2",children:[Object(j.jsxs)(X.a.Group,{children:[Object(j.jsx)(X.a.Label,{children:"From"}),Object(j.jsx)(X.a.Control,{type:"date",ref:O,required:!0})]}),Object(j.jsxs)(X.a.Group,{children:[Object(j.jsx)(X.a.Label,{children:"To"}),Object(j.jsx)(X.a.Control,{type:"date",ref:h,required:!0})]})]}),Object(j.jsx)(g.a,{disabled:u,type:"submit",children:"Update dates"})]})})]})}var nt=a(259);function st(e){var t=e.docRef,a=Object(r.useRef)(),c=Object(r.useRef)(),n=Object(r.useRef)(),s=Object(r.useRef)(),o=Object(r.useRef)(),i=Object(r.useState)(!1),l=Object(p.a)(i,2),d=l[0],u=l[1],b=Object(r.useState)(""),O=Object(p.a)(b,2),h=O[0],x=O[1],m=Object(r.useState)(""),f=Object(p.a)(m,2),v=f[0],y=f[1],k=Object(r.useState)(!1),N=Object(p.a)(k,2),S=N[0],_=N[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(g.a,{variant:"warning",className:"mt-3",onClick:function(){return _(!0)},disabled:S,children:e.buttonLabel}),v&&Object(j.jsx)(nt.a,{variant:"danger",children:v}),h&&Object(j.jsx)(nt.a,{variant:"success",children:h}),S&&Object(j.jsxs)(X.a,{onSubmit:function(e){e.preventDefault(),u(!0),y(""),x("");try{t.update({bakeSaleName:a.current.value,availabilityStart:c.current.value,availabilityEnd:n.current.value,bakeSaleDesc:s.current.value,bakeSalePromo:o.current.value}).then((function(){x("Successfully created. Please refresh the page to view.")}))}catch(r){y(""+r)}},children:[Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formSaleName",children:[Object(j.jsx)(X.a.Label,{children:"Bake Sale Title"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter title",ref:a,required:!0}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Include a title/name for your bake sale."})]}),Object(j.jsxs)(X.a.Group,{children:[Object(j.jsxs)(ee.a,{className:"mt-3",children:[Object(j.jsxs)(X.a.Group,{children:[Object(j.jsx)(X.a.Label,{children:"From"}),Object(j.jsx)(X.a.Control,{type:"date",ref:c,required:!0})]}),Object(j.jsxs)(X.a.Group,{children:[Object(j.jsx)(X.a.Label,{children:"To"}),Object(j.jsx)(X.a.Control,{type:"date",ref:n,required:!0})]})]}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Include the start and end dates for your bake sale."})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formSaleDesc",children:[Object(j.jsx)(X.a.Label,{children:"Bake Sale Description"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter description",ref:s,as:"textarea",rows:5,required:!0}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Include a short description about this bake sale."})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formSalePromo",children:[Object(j.jsx)(X.a.Label,{children:"Bake Sale Promotions"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter promotions",ref:o,as:"textarea",rows:5}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Include any promotions you might have for this bake sale."})]}),Object(j.jsx)(g.a,{className:"mt-4",variant:"primary",type:"submit",disabled:d,children:"Create"})]})]})}function ot(e){var t=e.docRef,a=Object(r.useState)(!1),c=Object(p.a)(a,2),n=c[0],s=c[1];return Object(j.jsxs)("div",{children:[!n&&Object(j.jsx)(g.a,{variant:"danger",className:"mt-3",onClick:function(){return s(!0)},size:"sm",children:"Delete Bake Sale"}),n&&Object(j.jsxs)("div",{children:[Object(j.jsx)("h6",{children:"Are you sure you want to delete this bake sale?"}),Object(j.jsx)(g.a,{variant:"outline-primary",onClick:function(){return s(!1)},className:We.a.delConfButton,size:"sm",children:"No"}),Object(j.jsx)(g.a,{variant:"outline-danger",onClick:function(){try{t.update({bakeSaleName:null,availabilityStart:null,availabilityEnd:null,bakeSaleDesc:null,bakeSalePromo:null}).then((function(){alert("Successfully deleted. Please refresh the page to view changes.")}))}catch(e){alert("Unable to delete. "+e)}finally{s(!1)}},className:We.a.delConfButton,size:"sm",children:"Yes"})]})]})}function it(e){var t=e.sellerDoc,a=e.isOwnStore,r=e.storeRef;if(null===t||void 0===t?void 0:t.bakeSaleName)var c=new Date,n=new Date(t.availabilityStart),s=new Date(t.availabilityEnd),o=n>c?"Upcoming":s<c?"Ended":"Ongoing";return Object(j.jsxs)(te.a,{body:!0,className:We.a.tabBox,children:[(null===t||void 0===t?void 0:t.bakeSaleName)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(te.a.Title,{className:"mb-4",children:[Object(j.jsx)("div",{children:Object(j.jsx)(g.a,{variant:"info",size:"sm",className:"mb-3",disabled:!0,children:o})}),t.bakeSaleName]}),Object(j.jsxs)(te.a.Text,{children:[Object(j.jsx)("strong",{children:"Start"})," : ",t.availabilityStart]}),Object(j.jsxs)(te.a.Text,{children:[Object(j.jsx)("strong",{children:"End"})," : ",t.availabilityEnd]}),a&&Object(j.jsx)(ct,{start:"availabilityStart",end:"availabilityEnd",docRef:r}),Object(j.jsx)("br",{}),Object(j.jsx)(te.a.Title,{className:"mb-3",as:"h6",children:"Description"}),Object(j.jsx)(te.a.Text,{children:t.bakeSaleDesc}),a&&Object(j.jsx)(at,{item:t.bakeSaleDesc,field:"bakeSaleDesc",docRef:r,isTextArea:!0}),((null===t||void 0===t?void 0:t.bakeSalePromo)||a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(te.a.Title,{className:"mb-3",as:"h6",children:"Promotions"}),Object(j.jsx)(te.a.Text,{children:t.bakeSalePromo}),a&&Object(j.jsx)(at,{item:t.bakeSalePromo,field:"bakeSalePromo",docRef:r,isTextArea:!0})]})]}):"No bake sale",a&&!(null===t||void 0===t?void 0:t.bakeSaleName)&&Object(j.jsx)(st,{docRef:r,buttonLabel:"Create Bake Sale"}),a&&(null===t||void 0===t?void 0:t.bakeSaleName)&&"Ended"===o&&Object(j.jsx)(st,{docRef:r,buttonLabel:"Create New Bake Sale"}),a&&(null===t||void 0===t?void 0:t.bakeSaleName)&&"Ended"===o&&Object(j.jsx)("div",{className:"mt-3",children:Object(j.jsx)("h6",{children:"OR"})}),a&&(null===t||void 0===t?void 0:t.bakeSaleName)&&Object(j.jsx)(ot,{docRef:r})]})}function lt(e){var t=e.sellerDoc,a=e.isOwnStore,r=e.storeRef;return Object(j.jsx)(te.a,{body:!0,className:We.a.tabBox,children:Object(j.jsxs)(te.a.Body,{children:[((null===t||void 0===t?void 0:t.phoneNum)||a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(te.a.Title,{children:"Phone contact"}),Object(j.jsx)(te.a.Text,{children:t.phoneNum}),a&&Object(j.jsx)(at,{item:t.phoneNum,field:"phoneNum",docRef:r})]}),((null===t||void 0===t?void 0:t.teleHandle)||a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(te.a.Title,{children:"Telegram contact"}),Object(j.jsx)(te.a.Text,{children:t.teleHandle}),a&&Object(j.jsx)(at,{item:t.teleHandle,field:"teleHandle",docRef:r})]}),((null===t||void 0===t?void 0:t.email)||a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(te.a.Title,{children:"Email address"}),Object(j.jsx)(te.a.Text,{children:t.email}),a&&Object(j.jsx)(at,{item:t.email,field:"email",docRef:r})]}),((null===t||void 0===t?void 0:t.instaLink)||a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(te.a.Title,{children:"Instagram"}),(null===t||void 0===t?void 0:t.instaLink)&&Object(j.jsx)("a",{href:t.instaLink,children:Object(j.jsx)(te.a.Text,{children:"Visit my instagram page"})}),a&&Object(j.jsx)(at,{item:t.instaLink,field:"instaLink",docRef:r})]}),((null===t||void 0===t?void 0:t.fbLink)||a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(te.a.Title,{children:"Facebook"}),(null===t||void 0===t?void 0:t.fbLink)&&Object(j.jsx)("a",{href:t.fbLink,children:Object(j.jsx)(te.a.Text,{children:"Visit my facebook page"})}),a&&Object(j.jsx)(at,{item:t.fbLink,field:"fbLink",docRef:r})]}),((null===t||void 0===t?void 0:t.websiteLink)||a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(te.a.Title,{children:"Store website"}),(null===t||void 0===t?void 0:t.websiteLink)&&Object(j.jsx)("a",{href:t.websiteLink,children:Object(j.jsx)(te.a.Text,{children:"Visit my personal website"})}),a&&Object(j.jsx)(at,{item:t.websiteLink,field:"websiteLink",docRef:r})]})]})})}function dt(e){var t=e.offersThis,a=e.hasDetails,c=e.field,n=e.docRef,s=Object(r.useState)(!1),o=Object(p.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)(""),u=Object(p.a)(d,2),b=u[0],O=u[1],h=Object(r.useState)(""),x=Object(p.a)(h,2),m=x[0],f=x[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{variant:"outline-warning",onClick:function(){l(!0),f(""),O("");try{n.update(Object(Ye.a)({},c,!t)).then((function(){var e="Successfully updated option";1!=t||a||(e+=" Please add the details below."),O(e)}))}catch(e){f(""+e)}finally{l(!1)}},disabled:i,children:t?"Remove option":"Add option"}),m&&Object(j.jsx)(nt.a,{variant:"danger",children:m}),b&&Object(j.jsx)(nt.a,{variant:"success",children:b})]})}function jt(e){var t=e.sellerDoc,a=e.isOwnStore,r=e.storeRef;return Object(j.jsxs)(te.a,{body:!0,className:We.a.tabBox,children:[Object(j.jsx)(te.a.Title,{children:"Delivery details"}),Object(j.jsx)(te.a.Text,{children:t.deliveryBool?t.deliveryDetails:"Not offered"}),a&&Object(j.jsx)(dt,{offersThis:t.deliveryBool,hasDetails:null===t||void 0===t?void 0:t.deliveryDetails,field:"deliveryBool",docRef:r}),a&&Object(j.jsx)(at,{item:t.deliveryDetails,field:"deliveryDetails",docRef:r,isTextArea:!0}),Object(j.jsx)(te.a.Title,{children:"Self-collection details"}),Object(j.jsx)(te.a.Text,{children:t.selfCollectionBool?t.selfCollectionDetails:"Not offered"}),a&&Object(j.jsx)(dt,{offersThis:t.selfCollectionBool,hasDetails:null===t||void 0===t?void 0:t.selfCollectionDetails,field:"selfCollectionBool",docRef:r}),a&&Object(j.jsx)(at,{item:t.selfCollectionDetails,field:"selfCollectionDetails",docRef:r,isTextArea:!0})]})}var ut=function(e){var t=e.storeID,a=_.collection("stores").doc(t),c=e.isOwnStore,n=Object(r.useState)(),s=Object(p.a)(n,2),o=s[0],i=s[1],l=Object(r.useState)(!0),d=Object(p.a)(l,2),u=d[0],b=d[1],O=Object(r.useState)("about"),h=Object(p.a)(O,2),x=h[0],m=h[1];return Object(r.useEffect)((function(){a.onSnapshot((function(e){e&&e.exists&&i(e.data()),b(!1)}))}),[]),!u&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(te.a,{children:[Object(j.jsx)(te.a.Img,{variant:"top",alt:"Image from store",src:o.storeLogo,className:We.a.sellerProfilImg}),c&&Object(j.jsx)(at,{item:o.storeLogo,field:"storeLogo",docRef:a}),Object(j.jsx)("div",{className:We.a.storeName,children:Object(j.jsx)("h3",{children:o.storeName})}),Object(j.jsx)(te.a.Body,{children:Object(j.jsxs)(ue.a,{activeKey:x,onSelect:function(e){return m(e)},transition:!1,children:[Object(j.jsx)(be.a,{eventKey:"about",title:"About",children:Object(j.jsx)(rt,{sellerDoc:o,isOwnStore:c,storeRef:a})}),Object(j.jsx)(be.a,{eventKey:"bakeSale",title:"Bake Sale",children:Object(j.jsx)(it,{sellerDoc:o,isOwnStore:c,storeRef:a})}),Object(j.jsx)(be.a,{eventKey:"contact",title:"Contact",children:Object(j.jsx)(lt,{sellerDoc:o,isOwnStore:c,storeRef:a})}),Object(j.jsx)(be.a,{eventKey:"storePref",title:"Store Preferences",children:Object(j.jsx)(jt,{sellerDoc:o,isOwnStore:c,storeRef:a})})]})})]}),!c&&Object(j.jsx)(ze,{searchStoreID:t,searchTag:!1})]})};function bt(e){var t=e.storeID;return Object(j.jsx)("div",{className:z.a.contentBox,style:{textAlign:"left"},children:Object(j.jsx)(ut,{storeID:t,isOwnStore:!1})})}var Ot=a(101),ht=a.n(Ot),xt=a(267),mt=a(140),ft=a.n(mt),pt=a(27);var vt=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),a=C(),c=a.googleLogIn,n=a.passwordLogIn,s=a.logOut,o=Object(r.useState)(""),i=Object(p.a)(o,2),l=i[0],d=i[1],u=Object(D.g)();function b(e){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uid,r=_.collection("users").doc(a),e.next=4,r.get().then((function(e){e.exists?u.push("/"):(r.set({username:null===t||void 0===t?void 0:t.displayName,email:t.email,photoURL:null===t||void 0===t?void 0:t.photoURL,phoneNumber:null===t||void 0===t?void 0:t.phoneNumber,isManualSignUp:!1,isSeller:!1}),u.push("/sign-up-seller"))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:return t=e.sent,e.next=6,b(t.user);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Log-in failed. "+e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function x(){return(x=Object(f.a)(m.a.mark((function a(r){var c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,a.next=4,n(e.current.value,t.current.value).then((function(e){e.user.emailVerified?u.push("/"):(d("Please verify your email"),s())}));case 4:a.next=19;break;case 6:a.prev=6,a.t0=a.catch(1),c=a.t0.code,a.t1=c,a.next="auth/invalid-email"===a.t1?12:"auth/user-not-found"===a.t1?14:"auth/wrong-password"===a.t1?16:18;break;case 12:return d("Please enter a valid email"),a.abrupt("break",19);case 14:return d("User not found. Please sign up for an account."),a.abrupt("break",19);case 16:return d("Invalid password"),a.abrupt("break",19);case 18:d("Log-in failed. "+a.t0.message);case 19:case"end":return a.stop()}}),a,null,[[1,6]])})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:ht.a.mainBox,children:[Object(j.jsx)("h1",{children:"Login"}),Object(j.jsx)("div",{className:ht.a.googleLogIn,children:Object(j.jsx)(ft.a,{label:"Continue with Google",onClick:function(){return h.apply(this,arguments)}})}),Object(j.jsx)("h6",{children:"OR"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{onSubmit:function(e){return x.apply(this,arguments)},children:[l&&Object(j.jsx)(nt.a,{variant:"danger",children:l}),Object(j.jsxs)("div",{className:ht.a.inputBox,children:[Object(j.jsx)(xt.a,{inputRef:e,type:"email",label:"Email",variant:"filled"}),Object(j.jsx)(xt.a,{inputRef:t,type:"password",label:"Password",variant:"filled"}),Object(j.jsx)("div",{className:ht.a.forgotPassword,children:Object(j.jsx)(pt.b,{to:"/forgot-password",children:"Forgot Password?"})})]}),Object(j.jsx)(g.a,{variant:"primary",type:"submit",children:"Log In"})]}),Object(j.jsxs)("div",{className:ht.a.signUp,children:[Object(j.jsx)("h6",{children:"Don't have an account?"}),Object(j.jsx)(pt.b,{to:"/sign-up",children:"Sign up!"})]})]})};function gt(){return Object(j.jsx)("div",{className:z.a.formBox,children:Object(j.jsx)(vt,{})})}var yt=a(107),kt=a.n(yt);function Nt(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),c=Object(r.useRef)(),n=Object(r.useRef)(),s=Object(r.useRef)(),o=Object(r.useState)(""),i=Object(p.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(!1),b=Object(p.a)(u,2),O=b[0],h=b[1];return Object(j.jsxs)(te.a,{children:[l&&Object(j.jsx)(nt.a,{variant:"danger",children:l}),Object(j.jsx)(te.a.Header,{as:"h4",className:"my-3",children:"Profile Information"}),Object(j.jsx)(te.a.Body,{children:Object(j.jsxs)(X.a,{onSubmit:function(r){if(r.preventDefault(),d(""),h(!0),a.current.value!==c.current.value)return h(!1),d("Passwords do not match");e.updateFunc({email:s.current.value,password:a.current.value},{username:t.current.value,phoneNumber:n.current.value}),h(!1)},children:[Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(j.jsx)(X.a.Label,{children:"Username"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter username",ref:t,required:!0})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formPassword",children:[Object(j.jsx)(X.a.Label,{children:"Password"}),Object(j.jsx)(X.a.Control,{type:"password",placeholder:"Password",ref:a,required:!0}),Object(j.jsx)(X.a.Text,{children:" Please enter a password that is at least 6 digits long"})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formConfirmPassword",children:[Object(j.jsx)(X.a.Label,{children:"Confirm password"}),Object(j.jsx)(X.a.Control,{type:"password",placeholder:"Password",ref:c,required:!0})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formEmail",children:[Object(j.jsx)(X.a.Label,{children:" Email Address "}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter your email address",ref:s,required:!0})]}),Object(j.jsxs)(X.a.Group,{controlId:"formPhoneNumber",children:[Object(j.jsx)(X.a.Label,{children:"Phone number"}),Object(j.jsxs)(ee.a,{className:"mb-3",children:[Object(j.jsx)(ee.a.Prepend,{children:Object(j.jsx)(ee.a.Text,{children:"+65"})}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter your phone number",ref:n})]})]}),Object(j.jsx)(g.a,{className:"mt-3",variant:"primary",type:"submit",disabled:O,children:"Next"})]})})]})}function St(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),c=Object(r.useRef)(),n=Object(r.useState)(!1),s=Object(p.a)(n,2),o=s[0],i=s[1];return Object(j.jsxs)(te.a,{children:[Object(j.jsx)(te.a.Header,{as:"h4",className:"my-3",children:"Basic Store Information"}),Object(j.jsx)(te.a.Body,{children:Object(j.jsxs)(X.a,{onSubmit:function(r){r.preventDefault(),i(!0),e.updateFunc({storeName:t.current.value,storeDesc:a.current.value,storeLogo:c.current.value}),i(!1)},children:[Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formStoreName",children:[Object(j.jsx)(X.a.Label,{children:"Name of Baking Store"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter store name",ref:t,required:!0})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formStoreDesc",children:[Object(j.jsx)(X.a.Label,{children:"Store Description"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter store description",ref:a,as:"textarea",rows:5,required:!0}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Include a short description about your baking store."})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formStoreLogo",children:[Object(j.jsx)(X.a.Label,{children:"Store Logo"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter image URL",ref:c}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Include URL to your store logo/image."})]}),Object(j.jsx)(g.a,{className:"mt-3",variant:"primary",type:"submit",disabled:o,children:"Next"})]})})]})}function _t(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),c=Object(r.useRef)(),n=Object(r.useRef)(),s=Object(r.useRef)(),o=Object(r.useRef)(),i=Object(r.useState)(!1),l=Object(p.a)(i,2),d=l[0],u=l[1];return Object(j.jsxs)(te.a,{children:[Object(j.jsx)(te.a.Header,{as:"h4",className:"my-3",children:"Store Contact Information"}),Object(j.jsxs)(te.a.Body,{children:[Object(j.jsx)(te.a.Subtitle,{className:"mb-4 text-muted",children:"Enter your contact info for customers to contact you by"}),Object(j.jsxs)(X.a,{onSubmit:function(r){r.preventDefault(),u(!0),e.updateFunc({email:o.current.value,phoneNum:n.current.value,teleHandle:s.current.value,instaLink:t.current.value,fbLink:a.current.value,websiteLink:c.current.value}),window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"}),u(!1)},children:[Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formEmail",children:[Object(j.jsx)(X.a.Label,{children:"Email"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter your email address",ref:o})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formPhoneNumber",children:[Object(j.jsx)(X.a.Label,{children:"Phone number"}),Object(j.jsxs)(ee.a,{children:[Object(j.jsx)(ee.a.Prepend,{children:Object(j.jsx)(ee.a.Text,{children:"+65"})}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter your phone number",ref:n})]}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Include your phone number."})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formTele",children:[Object(j.jsx)(X.a.Label,{children:"Telegram handle"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter your telegram handle",ref:s}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Include your telegram handle."})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formInsta",children:[Object(j.jsx)(X.a.Label,{children:"Instagram"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Link to instagram",ref:t}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Include a link to your instagram store."})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formFb",children:[Object(j.jsx)(X.a.Label,{children:"Facebook"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Link to facebook",ref:a}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Include a link to your facebook page."})]}),Object(j.jsxs)(X.a.Group,{className:"mb-3",controlId:"formWebsite",children:[Object(j.jsx)(X.a.Label,{children:"Personal website"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Link to website",ref:c}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Include a link to your own website."})]}),Object(j.jsx)(g.a,{className:"mt-3",variant:"primary",type:"submit",disabled:d,children:"Next"})]})]})]})}var wt=function(){var e=C(),t=e.signUp,a=e.logOut,c=Object(D.g)(),n=Object(r.useState)(""),s=Object(p.a)(n,2),o=s[0],i=s[1],l=Object(r.useState)(""),d=Object(p.a)(l,2),u=d[0],b=d[1],O=Object(r.useState)(""),h=Object(p.a)(O,2),x=h[0],v=h[1],y=Object(r.useState)(""),k=Object(p.a)(y,2),N=k[0],S=k[1],w=Object(r.useState)(!1),B=Object(p.a)(w,2),I=B[0],P=B[1],L=Object(r.useState)(""),R=Object(p.a)(L,2),T=R[0],A=R[1],E=Object(r.useState)(!1),U=Object(p.a)(E,2),F=U[0],q=U[1],G=Object(r.useState)(!1),z=Object(p.a)(G,2),H=z[0],M=z[1],Q=Object(r.useState)(!1),V=Object(p.a)(Q,2),W=V[0],Y=V[1];function K(){return(K=Object(f.a)(m.a.mark((function e(a){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),A(""),e.prev=2,q(!0),e.next=6,t(o.email,o.password).then((function(e){var t=e.user;$(t),Z(t)}));case 6:e.next=21;break;case 8:e.prev=8,e.t0=e.catch(2),r=e.t0.code,e.t1=r,e.next="auth/email-already-in-use"===e.t1?14:"auth/invalid-email"===e.t1?16:"auth/weak-password"===e.t1?18:20;break;case 14:return A("Account with this email already exists"),e.abrupt("break",21);case 16:return A("Invalid email"),e.abrupt("break",21);case 18:return A("Password is too weak"),e.abrupt("break",21);case 20:A("Failed to create an account"+e.t0.message);case 21:return e.prev=21,q(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,8,21,24]])})))).apply(this,arguments)}function $(e){return J.apply(this,arguments)}function J(){return(J=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(),e.next=4,t.sendEmailVerification();case 4:c.push("/log-in"),alert("Email verification sent. Please check your inbox and verify your email to complete account creation."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),A("Failed to send email verification");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Z(e){return X.apply(this,arguments)}function X(){return(X=Object(f.a)(m.a.mark((function e(t){var a,r,c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uid,r=_.collection("users").doc(a),e.next=4,r.set({email:t.email,photoURL:null===t||void 0===t?void 0:t.photoURL,isManualSignUp:!0,isSeller:!1});case 4:if(r.update({username:u.username,phoneNumber:u.phoneNumber}),!H){e.next=13;break}return e.next=8,_.collection("stores").add({userID:a});case 8:c=e.sent,n=c.id,_.collection("stores").doc(n).update(x),_.collection("stores").doc(n).update(N),r.update({isSeller:!0,storeID:n});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:kt.a.mainBox,children:[T&&Object(j.jsx)(nt.a,{variant:"danger",children:T}),Object(j.jsx)(Nt,{updateFunc:function(e,t){i(e),b(t)}}),o&&Object(j.jsxs)("div",{className:kt.a.qnBox,children:[Object(j.jsx)("h6",{children:"Do you want to register as a seller?"}),Object(j.jsx)(g.a,{variant:"outline-primary",onClick:function(){M(!0),Y(!1)},className:kt.a.replyButtons,children:"Yes"}),Object(j.jsx)(g.a,{variant:"outline-secondary",onClick:function(){Y(!0),M(!1)},className:kt.a.replyButtons,children:"No"})]}),H&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{updateFunc:function(e){v(e),P(!0)}}),Object(j.jsx)("br",{}),I&&Object(j.jsx)(_t,{updateFunc:function(e){S(e),Y(!0)}})]}),W&&Object(j.jsx)(g.a,{disabled:F,className:"mt-3 w-100",variant:"warning",onClick:function(e){return K.apply(this,arguments)},children:"Submit"})]})};function Ct(){return Object(j.jsxs)("div",{className:z.a.formBox,children:[Object(j.jsx)("h1",{children:"Create Account"}),Object(j.jsxs)("div",{className:z.a.loginLink,children:[Object(j.jsx)("h6",{children:"Already have an account?"}),Object(j.jsx)(pt.b,{to:"/log-in",children:"Log In"})]}),Object(j.jsx)(wt,{})]})}var Bt=a(172),Dt=a.n(Bt);var It=function(e){var t=C().currentUser,a=Object(r.useState)(""),c=Object(p.a)(a,2),n=c[0],s=c[1],o=Object(r.useState)(""),i=Object(p.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(""),b=Object(p.a)(u,2),O=b[0],h=b[1],x=Object(r.useState)(""),v=Object(p.a)(x,2),y=v[0],k=v[1],N=Object(r.useState)(!1),S=Object(p.a)(N,2),w=S[0],B=S[1],D=Object(r.useState)(!1),I=Object(p.a)(D,2),P=I[0],L=I[1],R=Object(r.useState)(!1),T=Object(p.a)(R,2),A=T[0],E=T[1],U=Object(r.useState)(!1),F=Object(p.a)(U,2),q=F[0],G=F[1];function z(){return(z=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),k(""),e.prev=2,B(!0),e.next=6,H();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),h("Failed to join as a seller. "+e.t0);case 11:return e.prev=11,B(!1),L(!0),k("Successfully registered as a seller"),e.finish(11);case 16:case"end":return e.stop()}}),e,null,[[2,8,11,16]])})))).apply(this,arguments)}function H(){return M.apply(this,arguments)}function M(){return(M=Object(f.a)(m.a.mark((function e(){var a,r,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uid,r=_.collection("users").doc(a),e.next=4,_.collection("stores").add({storeOwnerID:a});case 4:c=e.sent,s=c.id,_.collection("stores").doc(s).update(n),_.collection("stores").doc(s).update(l),r.update({isSeller:!0,storeID:s});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[y]),Object(j.jsxs)("div",{className:Dt.a.mainBox,children:[O&&Object(j.jsx)(nt.a,{variant:"danger",children:O}),y&&Object(j.jsx)(nt.a,{variant:"success",children:y}),P&&Object(j.jsx)(g.a,{className:"mt-3",variant:"primary",href:e.redirect,children:"Proceed"}),Object(j.jsx)("br",{}),!n&&Object(j.jsx)(St,{updateFunc:function(e){s(e),E(!0)}}),Object(j.jsx)("br",{}),A&&Object(j.jsx)(_t,{updateFunc:function(e){d(e),G(!0)}}),q&&Object(j.jsx)(g.a,{className:"mt-3",variant:"warning",size:"lg",onClick:function(){return z.apply(this,arguments)},disabled:w,children:"Submit"})]})};function Pt(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1];return Object(j.jsxs)(j.Fragment,{children:[!a&&Object(j.jsxs)("div",{className:z.a.qnBox,children:[Object(j.jsx)("h4",{children:"Do you want to register as a seller?"}),Object(j.jsx)(g.a,{variant:"outline-primary",size:"lg",onClick:function(){c(!0)},className:z.a.replyButtons,children:"Yes"}),Object(j.jsx)(g.a,{variant:"outline-secondary",size:"lg",className:z.a.replyButtons,href:"/",children:"No"})]}),a&&Object(j.jsx)("div",{className:z.a.formBox,children:Object(j.jsx)(It,{redirect:"/"})})]})}var Lt=a(272),Rt=a(58),Tt=a.n(Rt);function At(e){var t=e.storeID,a=void 0===t?"defaultStoreID":t,r=e.uid,c=void 0===r?"defaultUID":r,n=e.bakeID,s=void 0===n?"defaultBakeID":n,o=e.storeName,i=void 0===o?"defaultStoreName":o,l=e.modeOfTransfer,d=void 0===l?"defaultModeOfTransfer":l,u=e.bakeName,b=void 0===u?"defaultBakeName":u,O=e.bakeSet,h=void 0===O?"defaultBakeSet":O,x=e.qty,m=void 0===x?1:x,f=e.unitPrice,p=void 0===f?0:f,v=e.remarks,g=void 0===v?"defaultRemarks":v,y=e.bakePhotoURL,k=void 0===y?"https://cdn.pixabay.com/photo/2016/10/12/22/40/bar-1736191_1280.jpg":y,N=e.numOfStoreOrders,S=void 0===N?"defaultNumOfOrdersInStore":N,w=e.setNumOfStoreOrders,C=void 0===w?"defaultSetFunction":w,B=Object(D.g)();return Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(U.a,{children:[Object(j.jsx)(F.a,{xs:"auto",children:Object(j.jsx)(q.a,{variant:"left",src:k,alt:"Bake picture",className:Tt.a.bakeImg})}),Object(j.jsx)(F.a,{className:Tt.a.colWithCard,children:Object(j.jsxs)(te.a,{className:Tt.a.orderCard,children:[Object(j.jsx)(te.a.Header,{as:"h6",onClick:function(){B.push("bake-product/".concat(s))},children:b}),Object(j.jsx)(te.a.Body,{className:Tt.a.orderDesc,children:Object(j.jsxs)(U.a,{children:[Object(j.jsx)(F.a,{xs:"auto",className:"me-auto",children:Object(j.jsxs)(te.a.Text,{className:Tt.a.priceQtyAndMode,children:[Object(j.jsxs)("h6",{children:[m,' x ["',h,'"]']}),function(e){return"collection"==e?"-Collection-":"-Delivery-"}(d),Object(j.jsx)("br",{})]})}),Object(j.jsx)(F.a,{className:Tt.a.remarks,children:g}),Object(j.jsxs)(F.a,{className:"ms-auto",as:"h6",xs:2,children:["$",p]})]})})]})}),Object(j.jsx)(F.a,{xs:"auto",children:Object(j.jsx)(Be.b,{onClick:function(){C((function(e){return e-1}));var e=_.collection("users").doc(c).collection("user-orders").doc(a);1==S?function(e){e.delete().then((function(){return alert("Your orders for this store have all been deleted")})).catch((function(e){return alert("unable to del user order doc: "+e)})).finally((function(){setTimeout((function(){return window.location.reload()}),5e3)}))}(e):S>1&&we(e,i,m,h,b,p,d,g,k,s)}})})]})})}function Et(e){var t=e.userID,a=e.storeID,c=Object(r.useState)(),n=Object(p.a)(c,2),s=n[0],o=n[1],i=Object(r.useState)(!0),l=Object(p.a)(i,2),d=l[0],u=l[1],b=Object(D.g)(),O=_.collection("users").doc(t).collection("user-orders").doc(a),h=Object(r.useState)(),x=Object(p.a)(h,2),m=x[0],f=x[1],v=Object(r.useState)(!1),g=Object(p.a)(v,2);g[0],g[1];if(Object(r.useEffect)((function(){O.get().then((function(e){u(!0),e&&e.exists&&o(e.data())})).catch((function(e){return alert("setUserOrderObj error: "+e)})).finally((function(){return u(!1)})),O.onSnapshot((function(e){o(e.data())}))}),[]),Object(r.useEffect)((function(){return s?f(s.orderObj.length):""}),[s]),!s)return null;var y=s.storeName,k=void 0===y?"defaultStoreName":y;s.totalCost,s.orderObj;return!d&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(Lt.a,{variant:"flush",className:Tt.a.listGroup,children:[Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(U.a,{children:[Object(j.jsx)(F.a,{xs:"auto",className:"me-auto",children:Object(j.jsx)("span",{className:Tt.a.storeName,onClick:function(){b.push("bakerProfile/".concat(a))},children:k})}),Object(j.jsx)(F.a,{className:"ms-auto",xs:"auto",children:Object(j.jsx)("a",{className:{color:"blue"},onClick:function(){var e='"'+function(e){var t=e.storeName,a=void 0===t?"defaultStoreName":t,r=e.orderObj,c=void 0===r?[{}]:r,n=function(e){return e.reduce((function(e,t){return t.unitPrice*t.qty+e}),0)}(c),s="Hi ".concat(a,", may I order the following at a total price of $").concat(n,", please? \n"),o=c.map((function(e,t){var a=e.modeOfTransfer,r=e.bakeName,c=e.bakeSet,n=e.qty,s=e.unitPrice;return"(".concat(t+1,") ").concat(n,"x (").concat(c,") of (").concat(r,") at $").concat(s," each - [").concat(a,"] \n")})),i=c.map((function(e,t){var a=e.remarks;return a?"(".concat(t+1,') "').concat(a,'" \n'):""}));return s+o.join("")+"\nAdditional Remarks: \n"+i.join("")}(s)+'"';navigator.clipboard.writeText(e).then((function(){return alert("Contact seller at their desired chat platform! \nModify the following generated text or paste it as it is.\n\nThe following text has been copied to your clipboard: \n\n"+e)}),(function(){return alert("unable to write text to clipboard: "+err)}))},children:"Generate Order Text"})})]})}),s.orderObj.map((function(e,r){return Object(j.jsx)(At,{storeID:a,uid:t,bakeID:e.bakeID,storeName:k,modeOfTransfer:e.modeOfTransfer,bakeName:e.bakeName,bakeSet:e.bakeSet,qty:e.qty,unitPrice:e.unitPrice,remarks:e.remarks,bakePhotoURL:e.bakePhotoURL,numOfStoreOrders:m,setNumOfStoreOrders:f},r)}))]})})}var Ut=a(173),Ft=a.n(Ut);function qt(){var e=Object(D.g)();return Object(j.jsxs)(te.a,{border:"dark",className:Ft.a.callToOrderCard,children:[Object(j.jsx)(te.a.Img,{variant:"top",src:"https://cdn.pixabay.com/photo/2016/02/19/10/13/pug-1209129_1280.jpg"}),Object(j.jsxs)(te.a.Body,{children:[Object(j.jsx)(te.a.Title,{children:"No orders?"}),Object(j.jsx)(te.a.Text,{as:"h6",children:"Quickk!! Add some orders before mumbo goes hungry"}),Object(j.jsx)(g.a,{variant:"secondary",onClick:function(){e.push("/bakes")},children:"Browse Bakes"})]})]})}var Gt=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)([]),s=Object(p.a)(n,2),o=s[0],i=s[1],l=C().currentUser.uid;return Object(D.g)(),Object(r.useEffect)((function(){try{c(!0),e=l,_.collection("users").doc(e).collection("user-orders").get().then((function(e){e.forEach((function(e){i((function(t){return[].concat(Object(Ne.a)(t),[e.id])}))}))})).catch((function(e){alert("Error reading orders from user-order: "+e)})).finally((function(){return c(!1)}))}finally{c(!1)}var e;return function(){i([])}}),[]),!a&&Object(j.jsx)(j.Fragment,{children:0!=o.length?o.map((function(e){return Object(j.jsx)(Et,{userID:l,storeID:e},e)})):Object(j.jsx)(qt,{})})};function zt(){return Object(j.jsx)("div",{className:z.a.contentBox,children:Object(j.jsx)(Gt,{})})}var Ht=a(41),Mt=a.n(Ht);var Qt=function(e){var t=e.userRef,a=e.userRec;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:Mt.a.profileHeader,children:[(null===a||void 0===a?void 0:a.photoURL)&&Object(j.jsx)(q.a,{src:a.photoURL,alt:"Profile picture",roundedCircle:!0,className:Mt.a.profileImg}),Object(j.jsx)("h2",{children:"My Profile"})]}),Object(j.jsxs)(te.a,{className:Mt.a.tableDetails,children:[Object(j.jsx)(te.a.Header,{as:"h5",children:"Account Details"}),Object(j.jsxs)(te.a.Body,{children:[Object(j.jsx)(Oe.a,{borderless:!0,hover:!0,responsive:!0,children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Username"})}),Object(j.jsx)("td",{children:a.username})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Email"})}),Object(j.jsx)("td",{children:a.email})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Phone number"})}),Object(j.jsxs)("td",{children:[a.phoneNumber,Object(j.jsx)(at,{item:null===a||void 0===a?void 0:a.phoneNumber,field:"phoneNumber",docRef:t})]})]})]})}),(null===a||void 0===a?void 0:a.password)&&Object(j.jsx)(g.a,{href:"/forgot-password",variant:"secondary",children:"Change password"})]})]})]})};function Vt(e){var t=C(),a=t.currentUser,c=t.googleLogIn,n=Object(r.useRef)(),s=Object(r.useRef)(),o=Object(r.useState)(!1),i=Object(p.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(""),b=Object(p.a)(u,2),O=b[0],h=b[1],x=Object(r.useState)(!1),v=Object(p.a)(x,2),y=v[0],k=v[1],N=e.userRef;function _(){return(_=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(!0);case 2:window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.delete().then((function(){return console.log("doc deleted")}));case 3:return e.next=5,a.delete();case 5:alert("Account has been deleted."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h("Failed to delete account. "+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function B(){return(B=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:return t=e.sent,e.next=6,a.reauthenticateWithCredential(t.credential).then((function(){d(!1),k(!0)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h("Reauthentication failed. "+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function D(){return(D=Object(f.a)(m.a.mark((function e(t){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=S.credential(n.current.value,s.current.value),e.next=5,a.reauthenticateWithCredential(r).then((function(){d(!1),k(!0)}));case 5:e.next=20;break;case 7:e.prev=7,e.t0=e.catch(1),c=e.t0.code,e.t1=c,e.next="auth/invalid-email"===e.t1?13:"auth/user-not-found"===e.t1?15:"auth/wrong-password"===e.t1?17:19;break;case 13:return h("Please enter a valid email"),e.abrupt("break",20);case 15:return h("User not found. Please sign up for an account."),e.abrupt("break",20);case 17:return h("Invalid password"),e.abrupt("break",20);case 19:h("Reauthentication failed. "+e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{children:"Are you sure you want to permanently delete this account?"}),Object(j.jsx)(g.a,{variant:"outline-primary",onClick:e.setFalseDelAcc,className:Mt.a.delConfButton,children:"No"}),Object(j.jsx)(g.a,{variant:"outline-danger",onClick:function(){return _.apply(this,arguments)},className:Mt.a.delConfButton,children:"Yes"})]}),y&&Object(j.jsx)(g.a,{variant:"outline-danger",onClick:function(){return w.apply(this,arguments)},className:Mt.a.delConfButton,children:"Confirm delete"}),l&&Object(j.jsxs)("div",{className:Mt.a.reAuthBox,children:[O&&Object(j.jsx)(nt.a,{variant:"danger",children:O}),Object(j.jsx)("h5",{children:"Reauthentication required"}),Object(j.jsx)("p",{children:"Please log in below to proceed."}),e.isManualSignUp?Object(j.jsx)(X.a,{onSubmit:function(e){return D.apply(this,arguments)},children:Object(j.jsxs)("div",{children:[Object(j.jsx)(X.a.Group,{children:Object(j.jsx)(X.a.Control,{type:"email",placeholder:"Enter email",required:!0,ref:n})}),Object(j.jsx)(X.a.Group,{children:Object(j.jsx)(X.a.Control,{type:"password",placeholder:"Enter password",required:!0,ref:s})}),Object(j.jsx)(g.a,{variant:"outline-danger",type:"submit",className:Mt.a.delConfButton,children:"Log In"})]})}):Object(j.jsx)("div",{className:Mt.a.googleButton,children:Object(j.jsx)(ft.a,{label:"Google Log-In",onClick:function(){return B.apply(this,arguments)}})})]})]})}var Wt=function(){var e=C().currentUser.uid,t=_.collection("users").doc(e),a=Object(r.useState)(),c=Object(p.a)(a,2),n=c[0],s=c[1],o=Object(r.useState)(!0),i=Object(p.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(!1),b=Object(p.a)(u,2),O=b[0],h=b[1];return Object(r.useEffect)((function(){t.onSnapshot((function(e){e&&e.exists&&s(e.data()),d(!1)}))}),[]),!l&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Qt,{userRef:t,userRec:n}),!n.isSeller&&Object(j.jsx)(g.a,{href:"/sign-up-seller",variant:"outline-secondary",className:Mt.a.bottomButton,children:"Join as a Seller"}),Object(j.jsx)("br",{}),!O&&Object(j.jsx)(g.a,{variant:"outline-danger",className:Mt.a.bottomButton,onClick:function(){return h(!0)},children:"Delete Account"}),O&&Object(j.jsx)(Vt,{userRef:t,setFalseDelAcc:function(){return h(!1)},isManualSignUp:n.isManualSignUp})]})};function Yt(){return Object(j.jsx)("div",{className:z.a.contentBox,children:Object(j.jsx)(Wt,{})})}var Kt=a(149),$t=a.n(Kt);var Jt=function(){var e=Object(r.useRef)(),t=C(),a=t.resetPassword,c=t.currentUser,n=Object(r.useState)(""),s=Object(p.a)(n,2),o=s[0],i=s[1],l=Object(r.useState)(""),d=Object(p.a)(l,2),u=d[0],b=d[1];function O(){return(O=Object(f.a)(m.a.mark((function t(r){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,b(""),i(""),t.next=6,a(e.current.value);case 6:b("An email has been sent to the given email address. Please refer to the email for further instructions."),t.next=20;break;case 9:t.prev=9,t.t0=t.catch(1),c=t.t0.code,t.t1=c,t.next="auth/invalid-email"===t.t1?15:"auth/user-not-found"===t.t1?17:19;break;case 15:return i("Please enter a valid email"),t.abrupt("break",20);case 17:return i("No user found with the given email address. Please sign up for an account."),t.abrupt("break",20);case 19:i("Failed to send password reset email. "+t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:$t.a.mainBox,children:[Object(j.jsx)("h2",{children:"Reset Password"}),Object(j.jsxs)("form",{onSubmit:function(e){return O.apply(this,arguments)},children:[o&&Object(j.jsx)(nt.a,{variant:"danger",children:o}),u&&Object(j.jsx)(nt.a,{variant:"success",children:u}),Object(j.jsxs)("div",{className:$t.a.inputBox,children:[Object(j.jsx)("p",{children:"Please enter your account email address"}),Object(j.jsx)(xt.a,{inputRef:e,type:"email",label:"Email",variant:"filled"})]}),Object(j.jsx)(g.a,{variant:"primary",type:"submit",children:"Reset Password"})]}),!c&&Object(j.jsxs)("div",{className:$t.a.signUp,children:[Object(j.jsx)("h6",{children:"Don't have an account?"}),Object(j.jsx)(pt.b,{to:"/sign-up",children:"Sign up!"})]})]})};function Zt(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(Jt,{})})}var Xt=a(141),ea=a.n(Xt),ta=function(e){var t=Object(D.g)();function a(e){t.push("/store/".concat(e))}return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(Lt.a,{className:"ms-2",children:[Object(j.jsx)(Lt.a.Item,{className:"mt-3",as:"h4",children:"My Store"}),Object(j.jsx)(Lt.a.Item,{action:!0,onClick:function(){return a("products")},children:"Products"}),Object(j.jsx)(Lt.a.Item,{action:!0,onClick:function(){return a("orders")},children:"Orders"}),Object(j.jsx)(Lt.a.Item,{action:!0,onClick:function(){return a("information")},children:"Information"})]})})},aa=a(276),ra=a(277);function ca(e){var t=e.object,a=e.px;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t[a]}),Object(j.jsx)("td",{children:a})]})}function na(e){var t=e.obj;return Object(j.jsx)("div",{children:Object(j.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:Object(j.jsx)("h6",{children:"Set or Quantity"})}),Object(j.jsx)("th",{children:Object(j.jsx)("h6",{children:"Price($)"})})]})}),Object(j.jsx)("tbody",{children:Object.keys(t).map((function(e){return Object(j.jsx)(ca,{px:e,object:t},e)}))})]})})}var sa=a(265),oa=a(260),ia=a(274),la=a(275),da=a(262),ja=Object(da.a)((function(){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),ua=Ae;function ba(e){var t=ja(),a=Object(r.useState)([]),c=Object(p.a)(a,2),n=c[0],s=c[1];return Object(r.useEffect)((function(){return e.updateArr(n)}),[n]),Object(j.jsx)("div",{children:Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formPdtTags",children:[Object(j.jsx)(X.a.Label,{children:"Product Tags"}),Object(j.jsx)("div",{children:Object(j.jsx)(sa.a,{id:"pdtTags",multiple:!0,value:n,onChange:function(e){s(e.target.value)},input:Object(j.jsx)(oa.a,{id:"select-pdtTags"}),renderValue:function(e){return Object(j.jsx)("div",{className:t.chips,children:e.map((function(e){return Object(j.jsx)(ia.a,{label:e,className:t.chip},e)}))})},children:ua.map((function(e){return Object(j.jsx)(la.a,{value:e,children:e},e)}))})}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Add product tags for the categories your product falls under."})]})})}function Oa(e){var t=Object(r.useState)({}),a=Object(p.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(),o=Object(p.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)(),u=Object(p.a)(d,2),b=u[0],O=u[1];function h(){b&&i&&n((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(Ye.a)({},b,i))}))}return Object(r.useEffect)((function(){e.updateMap(c)}),[c]),Object(j.jsxs)(X.a.Group,{className:"mt-4",children:[Object(j.jsx)(X.a.Label,{children:"Product Pricing"}),Object(j.jsxs)(ee.a,{children:[Object(j.jsx)(ee.a.Text,{children:"Pricing"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Set or quantity",onChange:function(e){return l(e.target.value)},required:!0}),Object(j.jsx)(X.a.Control,{type:"number",step:"0.05",placeholder:"Price ($)",onChange:function(e){return O(e.target.value)},required:!0})]}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"You may add multiple pricing options by clicking on the add button below and entering a new combination (e.g. Qty: Box of 4, Price($): 12). Please confirm your pricing options before proceeding."}),Object(j.jsxs)("div",{className:"mt-1 mb-2",children:[Object(j.jsx)(g.a,{className:"mt-2",variant:"secondary",onClick:h,size:"sm",children:"Add another option"}),Object(j.jsx)(g.a,{className:"mt-2 ms-3",variant:"warning",onClick:h,size:"sm",children:"Confirm"})]}),Object(j.jsx)(X.a.Label,{children:"Pricing Options"}),Object(j.jsx)(X.a.Text,{children:Object(j.jsx)(na,{obj:c})})]})}function ha(e){var t=e.item,a=e.field,c=e.docRef,n=e.isArr,s=Object(r.useState)([]),o=Object(p.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)({}),u=Object(p.a)(d,2),b=u[0],O=u[1],h=Object(r.useState)(!1),x=Object(p.a)(h,2),m=x[0],f=x[1],v=Object(r.useState)(!1),y=Object(p.a)(v,2),k=y[0],N=y[1];return Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)(Xe.a,{"aria-label":"edit details",onClick:function(){return f(!m)},children:t?Object(j.jsx)($e.a,{}):Object(j.jsx)(Ze.a,{})}),m&&Object(j.jsxs)(j.Fragment,{children:[n?Object(j.jsx)(ba,{updateArr:l}):Object(j.jsx)(Oa,{updateMap:O}),Object(j.jsx)(g.a,{className:"mt-1",disabled:k,onClick:function(){N(!0),f(!1);try{c.update(Object(Ye.a)({},a,n?i:b)).then((function(){return alert("Successfully updated.")}))}catch(err){alert(""+err)}finally{N(!1)}},children:"Update"})]})]})}function xa(e){var t=e.bakeRec,a=e.bakeRef;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h6",{children:"Bake Description"}),Object(j.jsx)("p",{children:t.bakeDesc}),Object(j.jsx)(at,{item:null===t||void 0===t?void 0:t.bakeDesc,field:"bakeDesc",docRef:a,isTextArea:!0}),Object(j.jsx)("h6",{children:"Bake Tags"}),Object(j.jsx)("p",{children:t.bakeTags.toString()}),Object(j.jsx)(ha,{item:null===t||void 0===t?void 0:t.bakeTags,field:"bakeTags",docRef:a,isArr:!0}),Object(j.jsx)("h6",{children:"Bake Allergens"}),Object(j.jsx)("p",{children:(null===t||void 0===t?void 0:t.bakeAllergens)?t.bakeAllergens:"N.A."}),Object(j.jsx)(at,{item:null===t||void 0===t?void 0:t.bakeAllergens,field:"bakeAllergens",docRef:a}),Object(j.jsx)("h6",{children:"Bake Availability"}),Object(j.jsx)("p",{children:(null===t||void 0===t?void 0:t.isAvailable)?"Available":"Not Available"}),Object(j.jsx)("h6",{children:"Pricing Options"}),Object(j.jsx)(na,{obj:t.bakePriceAndQty}),Object(j.jsx)(ha,{item:null===t||void 0===t?void 0:t.bakePriceAndQty,field:"bakePriceAndQty",docRef:a,isArr:!1}),Object(j.jsx)("h6",{children:"Product Promotion"}),Object(j.jsx)("p",{children:(null===t||void 0===t?void 0:t.itemPromo)?t.itemPromo:"N.A."}),Object(j.jsx)(at,{item:null===t||void 0===t?void 0:t.itemPromo,field:"itemPromo",docRef:a,isTextArea:!0}),Object(j.jsx)("h6",{children:"Update Bake Picture URL"}),Object(j.jsx)(at,{item:null===t||void 0===t?void 0:t.bakePhotoURL,field:"bakePhotoURL",docRef:a,formText:" 4 by 3 aspect ratio (ideally)"})]})}var ma=a(64),fa=a.n(ma);function pa(e){var t=e.bakeID,a=_.collection("bakes").doc(t),c=Object(r.useState)(),n=Object(p.a)(c,2),s=n[0],o=n[1],i=Object(r.useState)(!0),l=Object(p.a)(i,2),d=l[0],u=l[1],b=Object(r.useState)(!1),O=Object(p.a)(b,2),h=O[0],x=O[1],m=Object(r.useState)(!1),f=Object(p.a)(m,2),y=f[0],k=f[1],N=Object(r.useState)(),S=Object(p.a)(N,2),w=S[0],C=S[1],B=Object(r.useState)(!1),D=Object(p.a)(B,2),I=D[0],P=D[1];Object(r.useEffect)((function(){a.onSnapshot((function(e){e&&e.exists&&(o(e.data()),C(e.data().isAvailable)),u(!1)}))}),[]);var L=function(){return x(!1)};return!d&&Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsxs)(te.a,{className:fa.a.card,children:[Object(j.jsx)(te.a.Img,{variant:"top",src:null===s||void 0===s?void 0:s.bakePhotoURL,alt:"Product Image",style:{height:"172px"}}),Object(j.jsxs)(te.a.Body,{children:[Object(j.jsx)(te.a.Title,{className:fa.a.max2Lines,children:s.bakeName}),Object(j.jsx)(te.a.Text,{className:fa.a.max3Lines,children:s.bakeDesc}),Object(j.jsx)(g.a,{variant:"primary",size:"sm",onClick:function(){return x(!0)},children:"View more details"}),Object(j.jsx)("div",{className:"mt-3",children:Object(j.jsx)(aa.a,{control:Object(j.jsx)(ra.a,{checked:0==w,onChange:function(){P(!0);try{a.update({isAvailable:!w}),C(!w)}catch(e){alert("Error. Unable to change product availability")}finally{P(!1)}},disabled:I}),label:w?"Switch to unavailable":"Unavailable"})})]})]}),Object(j.jsxs)(v.a,{show:h,onHide:L,children:[Object(j.jsx)(v.a.Header,{children:Object(j.jsxs)(v.a.Title,{children:[s.bakeName,Object(j.jsx)(at,{item:null===s||void 0===s?void 0:s.bakeName,field:"bakeName",docRef:a})]})}),Object(j.jsx)(v.a.Body,{children:Object(j.jsx)(xa,{bakeRec:s,bakeRef:a})}),Object(j.jsxs)(v.a.Footer,{children:[Object(j.jsx)(g.a,{variant:"danger",size:"sm",onClick:function(){return k(!0)},children:"Delete listing"}),Object(j.jsx)(g.a,{variant:"secondary",size:"sm",onClick:L,children:"Close"})]}),Object(j.jsx)(v.a.Body,{children:y&&Object(j.jsxs)("div",{children:[Object(j.jsx)("h6",{children:"Are you sure you want to permanently delete this listing?"}),Object(j.jsx)(g.a,{variant:"outline-primary",size:"sm",onClick:function(){return k(!1)},className:fa.a.delConfButton,children:"No"}),Object(j.jsx)(g.a,{variant:"outline-danger",size:"sm",onClick:function(){a.delete().then((function(){x(!1),window.location.reload(),alert("Product listing successfully deleted")})).catch((function(e){alert("Unsuccessful. Product listing not deleted. "+e)}))},className:fa.a.delConfButton,children:"Yes"})]})})]})]})}function va(e){var t=e.storeID,a=Object(r.useState)(),c=Object(p.a)(a,2),n=c[0],s=c[1],o=Object(r.useRef)(),i=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useRef)(),u=Object(r.useRef)(),b=Object(r.useState)([]),O=Object(p.a)(b,2),h=O[0],x=O[1],v=Object(r.useState)({}),y=Object(p.a)(v,2),k=y[0],N=y[1],S=Object(r.useState)(!1),w=Object(p.a)(S,2),C=w[0],B=w[1],D=Object(r.useState)(!1),I=Object(p.a)(D,2),P=I[0],L=I[1],R=Object(r.useState)(!1),T=Object(p.a)(R,2),A=T[0],E=T[1];return Object(r.useEffect)((function(){B(!0),_.collection("stores").doc(t).get().then((function(e){return s(e.data())})).then((function(){return B(!1)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(g.a,{variant:"warning",className:"mt-4 mb-2",onClick:function(){return L(!0)},hidden:P,children:"List New Product"}),P&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(X.a,{onSubmit:function(e){e.preventDefault(),B(!0);try{_.collection("bakes").add({storeID:t,storeName:n.storeName,isAvailable:!0,bakeName:o.current.value,bakeDesc:i.current.value,bakeAllergens:d.current.value,bakePhotoURL:l.current.value,bakeTags:h,bakePriceAndQty:k,itemPromo:u.current.value}).then((function(){alert("Successfully listed.")}))}catch(a){alert(""+a)}finally{E(!0),B(!1)}},children:[Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formPdtName",children:[Object(j.jsx)(X.a.Label,{children:"Bake Product Name"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter name",ref:o,required:!0})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formPdtDesc",children:[Object(j.jsx)(X.a.Label,{children:"Bake Product Description"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter description",ref:i,as:"textarea",rows:3,required:!0}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Include a short description about this product."})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formPdtImg",children:[Object(j.jsx)(X.a.Label,{children:"Bake Product Image"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter image URL",ref:l}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Include URL to an image of your product. Refer to FAQ on how to generate. Photo should have 4 by 3 aspect ratio ideally"})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formPdtAllergens",children:[Object(j.jsx)(X.a.Label,{children:"Bake Product Allergens"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter allergens",ref:d}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Include possible allergens used in the baking of this product."})]}),Object(j.jsx)(Oa,{updateMap:N}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formPdtPromo",children:[Object(j.jsx)(X.a.Label,{children:"Promotions"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter promotions",ref:u,as:"textarea",rows:3}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Optional. Include any promotions you might have for this product."})]}),Object(j.jsx)(ba,{updateArr:x}),Object(j.jsx)(g.a,{className:"mt-4",variant:"primary",type:"submit",disabled:C,children:"List Product"})]}),A&&Object(j.jsx)(g.a,{className:"mt-4  mb-4 me-4",variant:"secondary",size:"sm",onClick:Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(!1);case 2:L(!0),window.scrollTo(0,0);case 4:case"end":return e.stop()}}),e)}))),children:"Add Another Product"}),Object(j.jsx)(g.a,{className:"mt-4  mb-4",variant:"warning",size:"sm",onClick:function(){return window.location.reload()},children:"Done"}),Object(j.jsx)("hr",{style:{width:"50%"}})]})]})}function ga(e){var t=e.bakeIDArr,a=Object(r.useState)(),c=Object(p.a)(a,2),n=c[0],s=c[1],o=Object(r.useState)(!1),i=Object(p.a)(o,2),l=i[0],d=i[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"mt-4  mb-4",children:[Object(j.jsx)("h6",{style:{display:"inline-block"},children:"Product availability: "}),Object(j.jsxs)(le.a,{className:"ms-3",children:[Object(j.jsx)(g.a,{variant:"outline-success",size:"sm",onClick:function(){s(!0),d(!0)},children:"Make all available"}),Object(j.jsx)(g.a,{variant:"outline-danger",size:"sm",onClick:function(){s(!1),d(!0)},children:"Make all unavailable"})]})]}),Object(j.jsx)(v.a,{show:l,onHide:function(){return d(!1)},children:Object(j.jsx)(v.a.Body,{children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("h5",{children:["Change availability of all products to"," ",Object(j.jsx)("em",{children:n?"available":"unavailable"}),". Confirm?"]}),Object(j.jsx)(g.a,{variant:"outline-primary",size:"sm",onClick:function(){try{t.map((function(e){_.collection("bakes").doc(e).update({isAvailable:n})}))}catch(e){alert("Error. Unable to update product availability")}finally{d(!1),alert("Successfully changed availability of all products.")}},className:fa.a.delConfButton,children:"Yes"}),Object(j.jsx)(g.a,{variant:"outline-danger",size:"sm",onClick:function(){return d(!1)},className:fa.a.delConfButton,children:"No"})]})})})]})}var ya=function(e){var t=e.storeID,a=Object(r.useState)([]),c=Object(p.a)(a,2),n=c[0],s=c[1],o=Object(r.useState)(!0),i=Object(p.a)(o,2),l=i[0],d=i[1];return Object(r.useEffect)((function(){return _.collection("bakes").where("storeID","==",t).get().then((function(e){return e.forEach((function(e){return n.push(e.id)}))})).then((function(){return s(n)})).then((function(){return d(!1)})),function(){s([])}}),[]),Object(j.jsxs)("div",{className:"mt-5 mb-4",children:[Object(j.jsx)("h3",{children:"My Product Listings"}),Object(j.jsx)(va,{storeID:t}),!l&&0!=n.length&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ga,{bakeIDArr:n}),Object(j.jsx)(U.a,{sm:1,md:2,lg:3,className:"mb-3 mt-4",children:n.map((function(e){return Object(j.jsx)(F.a,{children:Object(j.jsx)(pa,{bakeID:e})},e)}))})]})]})},ka=a(96),Na=a.n(ka);function Sa(){var e=C().userDoc;return Object(j.jsx)("div",{className:Na.a.contentBox,children:Object(j.jsx)(ya,{storeID:e.storeID})})}var _a=a(35),wa=a.n(_a);function Ca(e){var t=e.storeID,a=Object(r.useRef)(),c=Object(r.useRef)(),n=Object(r.useRef)(),s=Object(r.useRef)(),o=Object(r.useState)(),i=Object(p.a)(o,2),l=i[0],d=i[1],u=Object(r.useRef)(),b=Object(r.useRef)(),O=Object(r.useRef)(),h=Object(r.useState)(!1),x=Object(p.a)(h,2),v=x[0],y=x[1],k=Object(r.useState)(!1),N=Object(p.a)(k,2),S=N[0],w=N[1],C=Object(r.useState)(!1),B=Object(p.a)(C,2),D=B[0],I=B[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(g.a,{variant:"warning",className:"mt-4 mb-2",onClick:function(){return w(!0)},hidden:S,children:"Add Order"}),S&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(X.a,{onSubmit:function(e){if(e.preventDefault(),y(!0),!l)return y(!1),alert("Please choose a mode of transfer.");try{_.collection("orders").add({storeID:t,orderText:a.current.value,totalAmt:c.current.value,buyerName:n.current.value,buyerContact:s.current.value,modeOfTransfer:l,location:u.current.value,transacDate:new Date(b.current.value).toLocaleDateString("en-ZA"),transacTime:new Date(b.current.value).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),orderRemarks:O.current.value}).then((function(){alert("Successfully added.")}))}catch(r){alert(""+r)}finally{I(!0),y(!1)}},children:[Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formPdtOrdered",children:[Object(j.jsx)(X.a.Label,{children:"Order Details"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter products ordered, quantity, and any other order information",as:"textarea",rows:3,ref:a,required:!0})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formAmt",children:[Object(j.jsx)(X.a.Label,{children:"Total Amount ($)"}),Object(j.jsx)(X.a.Control,{type:"number",step:"0.05",placeholder:"Enter amount ($)",ref:c,required:!0})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formMode",children:[Object(j.jsx)(X.a.Label,{children:"Mode of Transfer"}),Object(j.jsx)(X.a.Check,{type:"radio",name:"mode",id:"mode-collect",label:"Collection",onClick:function(){return d("collection")}}),Object(j.jsx)(X.a.Check,{type:"radio",name:"mode",id:"mode-delivery",label:"Delivery",onClick:function(){return d("delivery")}})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formDateTime",children:[Object(j.jsx)(X.a.Label,{children:"Transaction Date & Time"}),Object(j.jsx)(X.a.Control,{type:"datetime-local",ref:b,required:!0})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formBuyerName",children:[Object(j.jsx)(X.a.Label,{children:"Buyer Name"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter buyer name",ref:n,required:!0})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formBuyerContact",children:[Object(j.jsx)(X.a.Label,{children:"Buyer Contact Info"}),Object(j.jsx)(X.a.Control,{type:"text",as:"textarea",rows:2,placeholder:"Enter buyer contact info",ref:s})]}),"delivery"===l&&Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formBuyerAddress",children:[Object(j.jsx)(X.a.Label,{children:"Buyer Address"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter buyer address",ref:u})]}),"collection"===l&&Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formBuyerMeetingLoc",children:[Object(j.jsx)(X.a.Label,{children:"Buyer Meeting Location"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter buyer meeting location",ref:u})]}),Object(j.jsxs)(X.a.Group,{className:"mt-4",controlId:"formOrderRemarks",children:[Object(j.jsx)(X.a.Label,{children:"Remarks"}),Object(j.jsx)(X.a.Control,{type:"text",placeholder:"Enter remarks",ref:O,as:"textarea",rows:2}),Object(j.jsx)(X.a.Text,{className:"text-muted",children:"Include any remarks for this order"})]}),Object(j.jsx)(g.a,{className:"mt-4",variant:"primary",type:"submit",disabled:v,children:"Add Order"})]}),D&&Object(j.jsx)(g.a,{className:"mt-4  mb-4 me-4",variant:"secondary",size:"sm",onClick:Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(!1);case 2:w(!0),window.scrollTo(0,0);case 4:case"end":return e.stop()}}),e)}))),children:"Add Another Order"}),Object(j.jsx)(g.a,{className:"mt-4  mb-4",variant:"warning",size:"sm",onClick:function(){return window.location.reload()},children:"Done"}),Object(j.jsx)("hr",{style:{width:"50%"}})]})]})}function Ba(e){var t=e.orderRec;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h6",{children:"Order Text"}),Object(j.jsx)("p",{children:t.orderText}),Object(j.jsx)("h6",{children:"Total Amount"}),Object(j.jsxs)("p",{children:["$",t.totalAmt]}),Object(j.jsx)("h6",{children:"Buyer Name"}),Object(j.jsx)("p",{children:t.buyerName}),Object(j.jsx)("h6",{children:"Buyer Contact Info"}),Object(j.jsx)("p",{children:(null===t||void 0===t?void 0:t.buyerContact)?t.buyerContact:"\u2014"}),Object(j.jsx)("h6",{children:"collection"==t.modeOfTransfer?"Collection Location":"Delivery Location"}),Object(j.jsx)("p",{children:(null===t||void 0===t?void 0:t.location)?t.location:"\u2014"}),Object(j.jsx)("h6",{children:"Order Remarks"}),Object(j.jsx)("p",{children:(null===t||void 0===t?void 0:t.orderRemarks)?t.orderRemarks:"\u2014"})]})}function Da(e){var t=e.order,a=e.orderID,c=Object(r.useState)(!1),n=Object(p.a)(c,2),s=n[0],o=n[1],i=Object(r.useState)(!1),l=Object(p.a)(i,2),d=l[0],u=l[1],b=function(){return o(!1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("tr",{onClick:function(){return o(!0)},children:[Object(j.jsx)("td",{className:wa.a.ordersNum,children:Object(j.jsxs)("ul",{className:wa.a.contentList,children:[Object(j.jsx)("li",{children:new Date(t.transacDate).toLocaleDateString("en-GB")}),Object(j.jsx)("li",{children:Object(j.jsx)("strong",{children:t.transacTime})})]})}),Object(j.jsx)("td",{children:Object(j.jsxs)("ul",{className:wa.a.contentList,children:[Object(j.jsx)("li",{children:Object(j.jsxs)("h6",{children:["Total: $",t.totalAmt]})}),Object(j.jsx)("li",{children:t.orderText})]})}),Object(j.jsx)("td",{className:wa.a.ordersNum,children:Object(j.jsxs)("ul",{className:wa.a.contentList,children:[Object(j.jsx)("li",{children:Object(j.jsx)("h6",{children:t.buyerName})}),Object(j.jsx)("li",{children:t.buyerContact})]})}),Object(j.jsx)("td",{className:wa.a.ordersNum,children:t.location}),Object(j.jsx)("td",{className:wa.a.ordersNum,children:t.orderRemarks})]}),Object(j.jsxs)(v.a,{show:s,onHide:b,children:[Object(j.jsx)(v.a.Header,{children:Object(j.jsx)(v.a.Title,{children:new Date(t.transacDate).toLocaleDateString("en-GB")+", "+t.transacTime+", "+t.modeOfTransfer})}),Object(j.jsx)(v.a.Body,{children:Object(j.jsx)(Ba,{orderRec:t})}),Object(j.jsxs)(v.a.Footer,{children:[Object(j.jsx)(g.a,{variant:"danger",size:"sm",onClick:function(){return u(!0)},children:"Delete order"}),Object(j.jsx)(g.a,{variant:"secondary",size:"sm",onClick:b,children:"Close"})]}),Object(j.jsx)(v.a.Body,{children:d&&Object(j.jsxs)("div",{children:[Object(j.jsx)("h6",{children:"Are you sure you want to permanently delete this order?"}),Object(j.jsx)(g.a,{variant:"outline-primary",size:"sm",onClick:function(){return u(!1)},className:wa.a.delConfButton,children:"No"}),Object(j.jsx)(g.a,{variant:"outline-danger",size:"sm",onClick:function(){_.collection("orders").doc(a).delete().then((function(){o(!1),window.location.reload(),alert("Order successfully deleted")})).catch((function(e){alert("Unsuccessful. Order not deleted. "+e)}))},className:wa.a.delConfButton,children:"Yes"})]})})]})]})}function Ia(e){var t=e.orderArr;return Object(j.jsxs)(te.a,{className:wa.a.tableDetails,children:[Object(j.jsx)(te.a.Header,{as:"h5",children:e.title}),Object(j.jsx)(te.a.Body,{children:Object(j.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,responsive:"xl",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:wa.a.ordersNum,children:"Date"}),Object(j.jsx)("th",{children:"Order details"}),Object(j.jsx)("th",{className:wa.a.ordersNum,children:"Buyer details"}),Object(j.jsx)("th",{className:wa.a.ordersNum,children:"Location"}),Object(j.jsx)("th",{className:wa.a.ordersNum,children:"Remarks"})]})}),Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsx)(Da,{order:e.orderRec,orderID:e.id},e.id)}))})]})})]})}function Pa(e){var t=e.storeID,a=Object(r.useState)(!0),c=Object(p.a)(a,2),n=c[0],s=c[1],o=Object(r.useState)([]),i=Object(p.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)([]),b=Object(p.a)(u,2),O=b[0],h=b[1],x=Object(r.useState)([]),v=Object(p.a)(x,2),y=v[0],k=v[1],N=Object(r.useState)(!1),S=Object(p.a)(N,2),w=S[0],C=S[1],B=Object(r.useState)(!0),D=Object(p.a)(B,2),I=D[0],P=D[1];return Object(r.useEffect)((function(){var e=(new Date).toLocaleDateString("en-ZA");return _.collection("orders").where("storeID","==",t).where("transacDate",">=",e).get().then((function(e){return e.forEach(function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data().modeOfTransfer;case 2:"collection"==e.sent?l.push({id:t.id,orderRec:t.data()}):O.push({id:t.id,orderRec:t.data()});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){d(l),h(O)})).then((function(){return s(!1)})),function(){d([]),h([])}}),[]),Object(r.useEffect)((function(){return _.collection("orders").where("storeID","==",t).orderBy("transacDate").get().then((function(e){return e.forEach((function(e){return y.push({id:e.id,orderRec:e.data()})}))})).then((function(){return k(y)})).then((function(){return P(!1)})),function(){k([])}}),[]),!n&&Object(j.jsxs)(j.Fragment,{children:[0!=l.length&&Object(j.jsx)(Ia,{title:"Collection Orders",orderArr:l}),0!=O.length&&Object(j.jsx)(Ia,{title:"Delivery Orders",orderArr:O}),Object(j.jsx)(g.a,{variant:"secondary",className:"mt-2 mb-2",onClick:function(){return C(!w)},children:"View All Orders"}),w&&!I&&Object(j.jsx)(Ia,{title:"All Orders",orderArr:y})]})}var La=function(e){var t=e.storeID;return Object(j.jsxs)("div",{className:"mt-5 mb-4",children:[Object(j.jsx)("h3",{children:"My Order Records"}),Object(j.jsx)(Ca,{storeID:t}),Object(j.jsx)(Pa,{storeID:t})]})};function Ra(){var e=C().userDoc;return Object(j.jsx)("div",{className:Na.a.contentBox,children:Object(j.jsx)(La,{storeID:e.storeID})})}function Ta(){var e=C().userDoc;return Object(j.jsx)("div",{className:Na.a.contentBox,children:Object(j.jsx)(ut,{storeID:e.storeID,isOwnStore:!0})})}var Aa=function(e){return Object(j.jsxs)(D.d,{children:[Object(j.jsx)(D.b,{exact:!0,path:"/store/orders",component:Ra}),Object(j.jsx)(D.b,{exact:!0,path:"/store/products",component:Sa}),Object(j.jsx)(D.b,{exact:!0,path:"/store/information",component:Ta})]})},Ea=function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(U.a,{children:[Object(j.jsx)(F.a,{xs:2,className:ea.a.sideBar,children:Object(j.jsx)(ta,{})}),Object(j.jsx)(F.a,{xs:10,className:ea.a.pageContentWrapper,children:Object(j.jsx)(Aa,{})})]})})};function Ua(){return Object(j.jsx)(Ea,{})}var Fa=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{className:"mt-5",children:"temp page for running js code"}),Object(j.jsx)(le.a,{})]})};var qa=function(){return Object(j.jsxs)(D.d,{children:[Object(j.jsx)(D.b,{exact:!0,path:"/",component:H}),Object(j.jsx)(D.b,{exact:!0,path:"/about",component:Z}),Object(j.jsx)(D.b,{exact:!0,path:"/bakers",component:se}),Object(j.jsx)(D.b,{exact:!0,path:"/bakes",component:Qe}),Object(j.jsx)(D.b,{exact:!0,path:"/log-in",component:gt}),Object(j.jsx)(D.b,{exact:!0,path:"/forgot-password",component:Zt}),Object(j.jsx)(D.b,{exact:!0,path:"/sign-up",component:Ct}),Object(j.jsx)(A,{exact:!0,path:"/sign-up-seller",component:Pt}),Object(j.jsx)(A,{exact:!0,path:"/order-cart",component:zt}),Object(j.jsx)(A,{exact:!0,path:"/profile-settings",component:Yt}),Object(j.jsx)(A,{path:"/store",component:Ua}),Object(j.jsx)(D.b,{exact:!0,path:"/bakerProfile/:id",render:function(e){var t=e.match;return Object(j.jsx)(bt,{storeID:t.params.id})}}),Object(j.jsx)(D.b,{exact:!0,path:"/bake-product/:id",render:function(e){var t=e.match;return Object(j.jsx)(Le,{bakeID:t.params.id})}}),Object(j.jsx)(A,{path:"/temporary",component:Fa})]})};a(206);var Ga=function(){return Object(j.jsxs)(B,{children:[Object(j.jsx)(P,{}),Object(j.jsx)(qa,{})]})},za=document.getElementById("root");s.a.render(Object(j.jsx)(r.StrictMode,{children:Object(j.jsx)(pt.a,{children:Object(j.jsx)(Ga,{})})}),za)},35:function(e,t,a){e.exports={tableDetails:"SellerOrders_tableDetails__3W0o5",ordersNum:"SellerOrders_ordersNum__2krug",contentList:"SellerOrders_contentList__1mjmv",delConfButton:"SellerOrders_delConfButton__34c1V"}},39:function(e,t,a){e.exports={storeName:"SellerProfile_storeName__2bLAW",tabBox:"SellerProfile_tabBox__rtWiQ",delConfButton:"SellerProfile_delConfButton__1tsaf",sellerProfilImg:"SellerProfile_sellerProfilImg__2WHQp"}},41:function(e,t,a){e.exports={profileHeader:"Profile_profileHeader__3ShYt",profileImg:"Profile_profileImg__2yDBr",tableDetails:"Profile_tableDetails__1Wgif",ordersNum:"Profile_ordersNum__2QWWr",bottomButton:"Profile_bottomButton__3aPUq",delConfButton:"Profile_delConfButton__3qMKa",reAuthBox:"Profile_reAuthBox__2BP2v",googleButton:"Profile_googleButton__1tv7_"}},50:function(e,t,a){e.exports={productDetailBox:"ProductNavPages_productDetailBox__Zfy3n"}},57:function(e,t,a){e.exports={title:"Header_title__Ff98J",tab:"Header_tab__1DeC3",delConfButton:"Header_delConfButton__PLbMO"}},58:function(e,t,a){e.exports={listGroup:"UserOrderCard_listGroup__2WFmq",storeName:"UserOrderCard_storeName__2kqX1",colWithCard:"UserOrderCard_colWithCard__P9YZv",priceQtyAndMode:"UserOrderCard_priceQtyAndMode__Vbw8m",bakeImg:"UserOrderCard_bakeImg__L9ZHB",orderCard:"UserOrderCard_orderCard__EArez",orderDesc:"UserOrderCard_orderDesc__2_Wcc",remarks:"UserOrderCard_remarks__3yZlp"}},64:function(e,t,a){e.exports={card:"SellerProducts_card__roMnh",max2Lines:"SellerProducts_max2Lines__2Jvnv",max3Lines:"SellerProducts_max3Lines__1zsgy",delConfButton:"SellerProducts_delConfButton__1gJfH"}},65:function(e,t,a){e.exports={card:"BakeCard_card__27j_z",cardImg:"BakeCard_cardImg__2P_wP",cardBody:"BakeCard_cardBody__2tB-Y",cardFooter:"BakeCard_cardFooter__g6BQz",itemDescTruncate:"BakeCard_itemDescTruncate__3YEu5",max2Lines:"BakeCard_max2Lines__3hQBp",max3Lines:"BakeCard_max3Lines___iyBt",max1Line:"BakeCard_max1Line__xCPDd"}},74:function(e,t,a){e.exports={searchBar:"BakersPage_searchBar__2uEqa",bakerBox:"BakersPage_bakerBox__1KlJr",storeImg:"BakersPage_storeImg__2iUTq",bakerCard:"BakersPage_bakerCard__2hYPe",buttonHeader:"BakersPage_buttonHeader__3x1D2",bakerDesc:"BakersPage_bakerDesc__1zGzV"}},96:function(e,t,a){e.exports={contentBox:"StorePages_contentBox__2fURu"}}},[[207,1,2]]]);
//# sourceMappingURL=main.47cdac1d.chunk.js.map